require=function e(t,i,n){function o(a,r){if(!i[a]){if(!t[a]){var c="function"==typeof require&&require;if(!r&&c)return c(a,!0);if(s)return s(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=i[a]={exports:{}};t[a][0].call(u.exports,function(e){var i=t[a][1][e];return o(i||e)},u,u.exports,e,t,i,n)}return i[a].exports}for(var s="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({AudioHelper:[function(e,t,i){"use strict";cc._RF.push(t,"9c73ehGYPxIOa/fdhYbhzB3","AudioHelper");var n=cc.audioEngine;cc.Class({statics:{lastmusic:null,musicon:!0,effecton:!0,musicId:-1,effectids:[],init:function(){this.lastmusic=null,this.musicon=!0,this.effecton=!0},enableMusic:function(e){this.musicon!=e&&(this.musicon=e,this.musicon?this.lastmusic&&this.playMusic(this.lastmusic):this.stopMusic())},enableEffect:function(e){this.effecton=e},preloadEffect:function(e){n.preloadEffect(e)},preloadMusic:function(e){n.preloadMusic(e)},playMusic:function(e,t){null==t&&(t=!0),this.lastmusic=e,this.musicon&&(n.stopAll(),this.musicId=n.play(e,t))},playEffect:function(e){if(this.effecton){var t=n.play(e),i=this;cc.log("AudioHelper::Play Sound"+t),n.setFinishCallback(t,function(){var e=i.effectids.indexOf(t);e>=0&&(cc.log("AudioHelper::Sound End!!!"+t),i.effectids.splice(e,1))}),this.effectids.push(t)}},stopAllEffects:function(){cc.log("AudioHelper::Stop All Sound!!!");for(var e in this.effectids)cc.log("AudioHelper::Stop Sound!!!"+e),n.stop(this.effectids[e]);this.effectids=[]},stopMusic:function(){n.stop(this.musicId)},playMusicIfNoPlaying:function(e){n.isMusicPlaying()||this.playMusic(e)},pauseMusic:function(){n.pauseMusic()},resumeMusic:function(){n.resumeMusic()}}}),cc._RF.pop()},{}],ChengjiuConf:[function(e,t,i){"use strict";cc._RF.push(t,"7c728WMJXJHW5mEKSdCPiKi","ChengjiuConf"),cc.Class({__ctor__:function(e){return this.mt_={},this.__index=this,setmetatable(this,{__index:function(e,t){if(this.mt_[t])return this.mt_[t]}}),setmetatableindex(this,ChengjiuConf),this.mt_.id=e.id,this.mt_.name=e.name,this.mt_.icon=e.icon,this.mt_.desc=e.desc,this.mt_.key=e.key,this.mt_.progressKey=e.progressKey,this.mt_.count=e.count,this}}),cc._RF.pop()},{}],ConfigManagerX:[function(e,t,i){"use strict";cc._RF.push(t,"edcbd1cwLVA55IZvhwfjWeO","ConfigManagerX"),cc.Class({properties:{},getGuankaConfById:function(e){return isAndroid()&&isSim()?ConfigManager.getInstance().getGuankaandroidConfById(e):ConfigManager.getInstance().getGuankaiosConfById(e)},getAllGuankaConfs:function(){return isAndroid()&&isSim()?ConfigManager.getInstance().getAllGuankaandroidConfs():ConfigManager.getInstance().getAllGuankaiosConfs()},getDaojuConfById:function(e){return isAndroid()&&isSim()?ConfigManager.getInstance().getDaojuandroidConfById(e):ConfigManager.getInstance().getDaojuiosConfById(e)},getAllDaojuConfs:function(){return isAndroid()&&isSim()?ConfigManager.getInstance().getAllDaojuandroidConfs():ConfigManager.getInstance().getAllDaojuiosConfs()}}),cc._RF.pop()},{}],ConfigManager:[function(e,t,i){"use strict";cc._RF.push(t,"974620fe2dI04YKGynwZRAk","ConfigManager");e("ConfigManagerX");var n=JSON,o=e("GuankaandroidConf"),s=e("ConsumableConf"),a=e("DaojuandroidConf"),r=e("CtrlConf"),c=e("GuankaiosConf"),l=e("MoshenConf"),u=e("ShenmoConf"),h=e("JiejuConf"),_=e("VirtualConf"),d=e("ChengjiuConf"),m=e("UserConf"),g=e("GodkillerConf"),f=e("DaojuiosConf"),p=e("IllustratedConf"),C=cc.Class(function(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}({getDaojuandroidConfById:function(e){return this.DaojuandroidConf_||this.initDaojuandroidConf(),this.DaojuandroidConf_[e]},getAllDaojuandroidConfs:function(){return this.DaojuandroidConf_||this.initDaojuandroidConf(),this.DaojuandroidConf_},initDaojuandroidConf:function(){var e={},t=cc.FileUtils.getInstance().getStringFromFile("client_config/daojuAndroid.json"),i=n.decode(t);for(var o in i){var s=i[o],r=a.new(s);e[r.id]=r}this.DaojuandroidConf_=e},getDaojuiosConfById:function(e){return this.DaojuiosConf_||this.initDaojuiosConf(),this.DaojuiosConf_[e]},getAllDaojuiosConfs:function(){return this.DaojuiosConf_||this.initDaojuiosConf(),this.DaojuiosConf_},initDaojuiosConf:function(){var e={},t=cc.FileUtils.getInstance().getStringFromFile("client_config/daojuIOS.json"),i=n.decode(t);for(var o in i){var s=i[o],a=f.new(s);e[a.id]=a}this.DaojuiosConf_=e},getConsumableConfById:function(e){return this.ConsumableConf_||this.initConsumableConf(),this.ConsumableConf_[e]},getAllConsumableConfs:function(){return this.ConsumableConf_||this.initConsumableConf(),this.ConsumableConf_},initConsumableConf:function(){var e={},t=cc.FileUtils.getInstance().getStringFromFile("client_config/consumable.json"),i=n.decode(t);for(var o in i){var a=i[o],r=s.new(a);e[r.id]=r}this.ConsumableConf_=e},getCtrlConfById:function(e){return this.CtrlConf_||this.initCtrlConf(),this.CtrlConf_[e]},getAllCtrlConfs:function(){return this.CtrlConf_||this.initCtrlConf(),this.CtrlConf_},initCtrlConf:function(){var e={},t=cc.FileUtils.getInstance().getStringFromFile("client_config/ctrl.json"),i=n.decode(t);for(var o in i){var s=i[o],a=r.new(s);e[a.id]=a}this.CtrlConf_=e},getGuankaandroidConfById:function(e){return this.GuankaandroidConf_||this.initGuankaandroidConf(),this.GuankaandroidConf_[e]},getAllGuankaandroidConfs:function(){return this.GuankaandroidConf_||this.initGuankaandroidConf(),this.GuankaandroidConf_},initGuankaandroidConf:function(){var e={},t=cc.FileUtils.getInstance().getStringFromFile("client_config/guankaAndroid.json"),i=n.decode(t);for(var s in i){var a=i[s],r=o.new(a);e[r.id]=r}this.GuankaandroidConf_=e},getGuankaiosConfById:function(e){return this.GuankaiosConf_||this.initGuankaiosConf(),this.GuankaiosConf_[e]},getAllGuankaiosConfs:function(){return this.GuankaiosConf_||this.initGuankaiosConf(),this.GuankaiosConf_},initGuankaiosConf:function(){var e={},t=cc.FileUtils.getInstance().getStringFromFile("client_config/guankaIOS.json"),i=n.decode(t);for(var o in i){var s=i[o],a=c.new(s);e[a.id]=a}this.GuankaiosConf_=e},getMoshenConfById:function(e){return this.MoshenConf_||this.initMoshenConf(),this.MoshenConf_[e]},getAllMoshenConfs:function(){return this.MoshenConf_||this.initMoshenConf(),this.MoshenConf_},initMoshenConf:function(){var e={},t=cc.FileUtils.getInstance().getStringFromFile("client_config/moshen.json"),i=n.decode(t);for(var o in i){var s=i[o],a=l.new(s);e[a.id]=a}this.MoshenConf_=e},getShenmoConfById:function(e){return this.ShenmoConf_||this.initShenmoConf(),this.ShenmoConf_[e]},getAllShenmoConfs:function(){return this.ShenmoConf_||this.initShenmoConf(),this.ShenmoConf_},initShenmoConf:function(){var e={},t=cc.FileUtils.getInstance().getStringFromFile("client_config/shenmo.json"),i=n.decode(t);for(var o in i){var s=i[o],a=u.new(s);e[a.id]=a}this.ShenmoConf_=e},getJiejuConfById:function(e){return this.JiejuConf_||this.initJiejuConf(),this.JiejuConf_[e]},getAllJiejuConfs:function(){return this.JiejuConf_||this.initJiejuConf(),this.JiejuConf_},initJiejuConf:function(){var e={},t=cc.FileUtils.getInstance().getStringFromFile("client_config/jieju.json"),i=n.decode(t);for(var o in i){var s=i[o],a=h.new(s);e[a.id]=a}this.JiejuConf_=e},getVirtualConfById:function(e){return this.VirtualConf_||this.initVirtualConf(),this.VirtualConf_[e]},getAllVirtualConfs:function(){return this.VirtualConf_||this.initVirtualConf(),this.VirtualConf_},initVirtualConf:function(){var e={},t=cc.FileUtils.getInstance().getStringFromFile("client_config/virtual.json"),i=n.decode(t);for(var o in i){var s=i[o],a=_.new(s);e[a.id]=a}this.VirtualConf_=e},getChengjiuConfById:function(e){return this.ChengjiuConf_||this.initChengjiuConf(),this.ChengjiuConf_[e]},getAllChengjiuConfs:function(){return this.ChengjiuConf_||this.initChengjiuConf(),this.ChengjiuConf_},initChengjiuConf:function(){var e={},t=cc.FileUtils.getInstance().getStringFromFile("client_config/chengjiu.json"),i=n.decode(t);for(var o in i){var s=i[o],a=d.new(s);e[a.id]=a}this.ChengjiuConf_=e},getUserConfById:function(e){return this.UserConf_||this.initUserConf(),this.UserConf_[e]},getAllUserConfs:function(){return this.UserConf_||this.initUserConf(),this.UserConf_},initUserConf:function(){var e={},t=cc.FileUtils.getInstance().getStringFromFile("client_config/user.json"),i=n.decode(t);for(var o in i){var s=i[o],a=m.new(s);e[a.id]=a}this.UserConf_=e},getGodkillerConfById:function(e){return this.GodkillerConf_||this.initGodkillerConf(),this.GodkillerConf_[e]},getAllGodkillerConfs:function(){return this.GodkillerConf_||this.initGodkillerConf(),this.GodkillerConf_},initGodkillerConf:function(){var e={},t=cc.FileUtils.getInstance().getStringFromFile("client_config/godkiller.json"),i=n.decode(t);for(var o in i){var s=i[o],a=g.new(s);e[a.id]=a}this.GodkillerConf_=e},getRankConfById:function(e){return this.RankConf_||this.initRankConf(),this.RankConf_[e]},getAllRankConfs:function(){return this.RankConf_||this.initRankConf(),this.RankConf_},initRankConf:function(){var e={},t=cc.FileUtils.getInstance().getStringFromFile("client_config/rank.json"),i=n.decode(t);for(var o in i){var s=i[o],a=RankConf.new(s);e[a.id]=a}this.RankConf_=e},init:function(){return this.initDaojuandroidConf(),this.initDaojuiosConf(),this.initConsumableConf(),this.initCtrlConf(),this.initGuankaandroidConf(),this.initGuankaiosConf(),this.initMoshenConf(),this.initShenmoConf(),this.initJiejuConf(),this.initVirtualConf(),this.initChengjiuConf(),this.initUserConf(),this.initGodkillerConf(),this.initRankConf(),this},getIllustratedConfById:function(e){return this.IllustratedConf_||this.initIllustratedConf(),this.IllustratedConf_[e]},getAllIllustratedConfs:function(){return this.IllustratedConf_||this.initIllustratedConf(),this.IllustratedConf_},initIllustratedConf:function(){var e={},t=cc.FileUtils.getInstance().getStringFromFile("client_config/illustrated.json"),i=n.decode(t);for(var o in i){var s=i[o],a=p.new(s);e[a.id]=a}this.IllustratedConf_=e}},"init",function(){return this.initIllustratedConf(),this}));C.instance=new C,C.getInstance=function(){return instance.initDone_||(instance.initDone_=!0),instance},cc._RF.pop()},{ChengjiuConf:"ChengjiuConf",ConfigManagerX:"ConfigManagerX",ConsumableConf:"ConsumableConf",CtrlConf:"CtrlConf",DaojuandroidConf:"DaojuandroidConf",DaojuiosConf:"DaojuiosConf",GodkillerConf:"GodkillerConf",GuankaandroidConf:"GuankaandroidConf",GuankaiosConf:"GuankaiosConf",IllustratedConf:"IllustratedConf",JiejuConf:"JiejuConf",MoshenConf:"MoshenConf",ShenmoConf:"ShenmoConf",UserConf:"UserConf",VirtualConf:"VirtualConf"}],Constants:[function(e,t,i){"use strict";cc._RF.push(t,"caa2fpoMvpAf4w4yOAD0aOq","Constants");var n=n||{};n.color=e("hmcolor");e("bit");var o=cc.Class({statics:{MAJOR_ITEM:101,MINOR_DAOJU:1,MINOR_CONSUMABLE:3,MINOR_GUANKA:4,MINOR_SHENMO:5,MINOR_JIEJU:6,MINOR_CTRL:7,MINOR_VIRTUAL:8,MINOR_CHENGJIU:9,MINOR_MOSHEN:10,MINOR_GODKILLER:11,MINOR_RANK:12,MAJOR_ILLUSTRATED:102,MINOR_ZHENHUAN:0,MINOR_ANLINGRONG:1,MINOR_HUAFEI:2,MINOR_MEIZHUANG:3,MINOR_WENYUAN:4,MINOR_HUANGHOU:7,MINOR_HUANGZI:9,MINOR_YELANYI:10,MINOR_YUYINGER:11,MINOR_MOSHEN_ZHENHUAN:12,MINOR_MOSHEN_ANLINGRONG:13,ITEMID_GOLD:101003001,ITEMID_HDH:101001001,ITEMID_HM:101001002,ITEMID_JH:101001003,EVT_ITEM_UPDATED:"EVT_ITEM_UPDATED",EVT_GAME_LG_GAMEOVER:"EVT_GAME_LG_GAMEOVER",EVT_RANK_NM_UPDATE:"EVT_RANK_NM_UPDATE",EVT_HUANGZI_CUR_GOLD:"EVT_HUANGZI_CUR_GOLD",EVT_HUANGZI_TOTAL_GOLD:"EVT_HUANGZI_TOTAL_GOLD",EVT_USE_HDH:"EVT_USE_HDH",EVT_USE_HM:"EVT_USE_HM",EVT_USE_JH:"EVT_USE_JH",EVT_CHONGHUA_USE_GOLD:"EVT_CHONGHUA_USE_GOLD",EVT_GAME_NM_GAMEOVER:"EVT_GAME_NM_GAMEOVER",EVT_CHARGE_GOLD:"EVT_CHARGE_GOLD",EVT_CHARGE_LOVE:"EVT_CHARGE_LOVE",EVT_TESTER:"EVT_TESTER",GAMEMODE_ZHENHUAN:0,GAMEMODE_ANLINGRONG:1,GAMEMODE_HUAFEI:2,GAMEMODE_MEIZHUANG:3,GAMEMODE_WENYUAN:4,GAMEMODE_HUANGHOU:7,GAMEMODE_HUANGZI:9,GAMEMODE_YELANYI:10,GAMEMODE_YUYINGER:11,GAMEMODE_MOSHEN_ZHENHUAN:12,GAMEMODE_MOSHEN_ANLINGRONG:13,GAMEMODE_XINXIU:14,KTOTAL_MONEY:"KTOTAL_MONEY",EVT_CHARGE_MORE:"EVT_CHARGE_MORE",DAOJU_HINT_HDH:"�׶������������������ķ���Ŷ\n�����ػ�����������",DAOJU_HINT_HM:"�����ɵ��ǳ�����һ����������\n�����ػ�����������",DAOJU_HINT_JH:"Ǭ��Ų���ǽ�������λ�õķ���Ŷ\n�����ػ�����������",DAOJU_RUNOUT_TIP:"%s�Ǽ��ٺ���������Ŷ\n�����ػ�����������",AD_REWARD_GOLD:200,AD_DAILY_MAX_TIMES:3,AD_TIMER:"AD_TIMER"}});o.AP_BL=cc.p(0,0),o.AP_BC=cc.p(.5,0),o.AP_BR=cc.p(1,0),o.AP_CL=cc.p(0,.5),o.AP_CC=cc.p(.5,.5),o.AP_CR=cc.p(1,.5),o.AP_TL=cc.p(0,1),o.AP_TC=cc.p(.5,1),o.AP_TR=cc.p(1,1),o.FONT_BLI="fonts/fzlibian.ttf",o.FONT_XLI="fonts/fzxiangli.ttf",o.FONT_TKAI="fonts/txKaifan.ttf",o.FONT_DAOF="fonts/daofeng.ttf",o.FONT_HYQTS="fonts/hyqts.ttf",o.FONT_HANJ="fonts/fzhanj.ttf",o.FONT_QIDI="fonts/fzqidi.ttf",o.FONT_XSHU="fonts/ygyxingshu.ttf",o.FONT_KFAN="fonts/fzKaifan.ttf",o.FONT_ARIAL="fonts/Arial.ttf",o.FONT_YUES="fonts/fzYuesong.ttf",o.IS_DEFAULT="default",o.DJ_HUIMENG=1,o.DJ_HEDINGH=2,o.KDATA_GMODE="gamemode_%s_%d",o.KDATA_LG_GMODE="gamemode_lenggong_data_%s_%d",o.KEFFECT_EXT="effect_ext",o.GAME_LOCKED="IsGameLocked",o.DISALLOW_BUY="DisallowBuy",o.AD_MAX_TIMES=5,o.BS_CREATED="BM_CREATED",o.BS_PAID="BS_PAID",o.BS_FAIL="BS_FAIL",o.EVT_TRIGGER_DAOJU_OUTSIDE="EVT_TRIGGER_DAOJU_OUTSIDE",o.EVT_ON_BUY_DAOJU="EVT_ON_BUY_DAOJU",o.kSpecialOfferTriggered="CHARGE_SPECIAL_OFFER_1",o.kFirstTimeGameHelp="kFirstTimeGameHelp",o.kFirstTimeWeekyGameHelp="kFirstTimeWeekyGameHelp",o.kMainOpenMenu="kMainOpenMenu",o.kMainOpenRank="kMainOpenRank",o.kGuankaUnlockedByGold="kGuankaUnlockedByGold_%d",o.ChargeConfigs={specialoffer20170707_3:{price:3,items:[{itemid:o.ITEMID_GOLD,num:1e4},{itemid:o.ITEMID_HDH,num:1},{itemid:o.ITEMID_HM,num:1},{itemid:o.ITEMID_JH,num:1}],name:"�ػ�����",desc:"10000+ÿ�ֵ���x1",isSpecialOffer:!0},specialoffer20170707_6:{price:6,items:[{itemid:o.ITEMID_GOLD,num:25e3},{itemid:o.ITEMID_HDH,num:2},{itemid:o.ITEMID_HM,num:2},{itemid:o.ITEMID_JH,num:2}],name:"�ػ�����",desc:"25000+ÿ�ֵ���x2",isSpecialOffer:!0},specialoffer20170707_18:{price:18,items:[{itemid:o.ITEMID_GOLD,num:4e4},{itemid:o.ITEMID_HDH,num:5},{itemid:o.ITEMID_HM,num:5},{itemid:o.ITEMID_JH,num:5}],name:"�ػ�����",desc:"40000+ÿ�ֵ���x5",isSpecialOffer:!0},gold6:{price:6,items:[{itemid:o.ITEMID_GOLD,num:15e3}],name:"6Ԫ����",desc:"����Ԫ��x15000",isSpecialOffer:!1},gold12:{price:12,items:[{itemid:o.ITEMID_GOLD,num:30600}],name:"12Ԫ����",desc:"����Ԫ��x30600",isSpecialOffer:!1},gold30:{price:30,items:[{itemid:o.ITEMID_GOLD,num:78e3}],name:"30Ԫ����",desc:"����Ԫ��x78000",isSpecialOffer:!1},gold68:{price:68,items:[{itemid:o.ITEMID_GOLD,num:180200}],name:"68Ԫ����",desc:"����Ԫ��x180200",isSpecialOffer:!1},gold128:{price:128,items:[{itemid:o.ITEMID_GOLD,num:345600}],name:"128Ԫ����",desc:"����Ԫ��x345600",isSpecialOffer:!1},gold258:{price:258,items:[{itemid:o.ITEMID_GOLD,num:709500}],name:"258Ԫ����",desc:"����Ԫ��x709500",isSpecialOffer:!1}},o.kSpecialOffer20170707="kSpecialOffer20170707",o.kChargeUINeedRefresh="kChargeUINeedRefresh",o.CHAR_ILLUSTRATED_CLAIMED="CHAR_ILLUSTRATED_CLAIMED",o.EVT_NEW_UNLOCKED_CHAR_ILLUSTRATED="EVT_NEW_UNLOCKED_CHAR_ILLUSTRATED",o.EVT_QUIT_SILLUSTRATED_UI="EVT_QUIT_SILLUSTRATED_UI",o.USERTYPE_V1="USERTYPE_V1",o.USERTYPE_V2="USERTYPE_V2",o.ARCHIVE_V1="archive_v1",o.GAMETYPE_NORMAL="GAMEATYPE_NORMAL",o.GAMETYPE_WEEKY_SKILL="GAMEATYPE_WEEKY_SKILL",o.GAMETYPE_WEEKY_NORMAL="GAMEATYPE_WEEKY_NORMAL",o.GAMETYPE_LENGGONG="GAMEATYPE_LENGGONG",o.GAMETYPE_PRINCESS="GAMEATYPE_PRINCESS",o.EVT_REFRESH_SMAIN="EVT_REFRESH_SMAIN",o.HAS_SET_NICKNAME="HAS_SET_NICKNAME",o.EVT_REPORTSCORE_GLOBAL="EVT_REPORTSCORE_GLOBAL",o.EVT_REPORTSCORE_WK_NORMAL="EVT_REPORTSCORE_WK_NORMAL",o.EVT_REPORTSCORE_WK_SKILL="EVT_REPORTSCORE_WK_SKILL",o.EVT_REPORTSCORE_LENGGONG="EVT_REPORTSCORE_LENGGONG",o.EVT_DOWNLOAD_ARCHIVE_DONE="EVT_DOWNLOAD_ARCHIVE_DONE",o.EVT_DOWNLOAD_SYNC_DONE="EVT_DOWNLOAD_SYNC_DONE",o.EVT_USER_LOGIN="EVT_USER_LOGIN",o.EVT_SUCCEEDED_ORDER="EVT_SUCCEEDED_ORDER",o.EVT_CHECK_IF_ANY_REWARD="EVT_CHECK_IF_ANY_REWARD",o.CHANNEL_YYB="yingyongbao",o.CHANNEL_SOGOU="sogou",cc._RF.pop()},{bit:"bit",hmcolor:"hmcolor"}],ConsumableConf:[function(e,t,i){"use strict";cc._RF.push(t,"156210AfuRGGJAM8E7pItMi","ConsumableConf"),cc.Class({__ctor__:function(e){return this.mt_={},this.__index=this,setmetatable(this,{__index:function(e,t){if(this.mt_[t])return this.mt_[t]}}),setmetatableindex(this,ConsumableConf),this.mt_.id=e.id,this.mt_.name=e.name,this.mt_.icon=e.icon,this.mt_.ename=e.ename,this}}),cc._RF.pop()},{}],CtrlConf:[function(e,t,i){"use strict";cc._RF.push(t,"a3fa2j/ndtJLqwhNrx0CFZQ","CtrlConf"),cc.Class({__ctor__:function(e){return this.mt_={},this.__index=this,setmetatable(this,{__index:function(e,t){if(this.mt_[t])return this.mt_[t]}}),setmetatableindex(this,CtrlConf),this.mt_.id=e.id,this.mt_.name=e.name,this.mt_.ename=e.ename,this}}),cc._RF.pop()},{}],DaojuandroidConf:[function(e,t,i){"use strict";cc._RF.push(t,"390eaoCJ/FErK7NMruISY2j","DaojuandroidConf"),cc.Class({__ctor__:function(e){return this.mt_={},this.__index=this,setmetatable(this,{__index:function(e,t){if(this.mt_[t])return this.mt_[t]}}),setmetatableindex(this,DaojuandroidConf),this.mt_.id=e.id,this.mt_.name=e.name,this.mt_.icon=e.icon,this.mt_.ename=e.ename,this.mt_.price=e.price,this.mt_.price3=e.price3,this.mt_.desc=e.desc,this}}),cc._RF.pop()},{}],DaojuiosConf:[function(e,t,i){"use strict";cc._RF.push(t,"6af988psnJPApzY6SLczWJL","DaojuiosConf"),cc.Class({__ctor__:function(e){return this.mt_={},this.__index=this,setmetatable(this,{__index:function(e,t){if(this.mt_[t])return this.mt_[t]}}),setmetatableindex(this,DaojuiosConf),this.mt_.id=e.id,this.mt_.name=e.name,this.mt_.icon=e.icon,this.mt_.ename=e.ename,this.mt_.price=e.price,this.mt_.price3=e.price3,this.mt_.desc=e.desc,this}}),cc._RF.pop()},{}],Event:[function(e,t,i){"use strict";cc._RF.push(t,"a481ea0H7NKy7yDL1dkHYvZ","Event"),cc.Class({extends:cc.Component,properties:{},DEBUG:0,onLoad:function(){this.listeners_={},this.listenersOnce_={},this.listenerHandleIndex_=0},onExit:function(){this.removeAllEventListeners()},addEventListenerOnce:function(e,t){e=string.upper(e),this.listenersOnce_[e]==nil&&(this.listenersOnce_[e]={}),this.listenerHandleIndex_=this.listenerHandleIndex_+1;var i=string.format("HANDLE_%d",this.listenerHandleIndex_);return this.listenersOnce_[e][i]=t,DEBUG>0&&hm.log.debug("EventComponent addEventListenerOnce for eventName",e),i},addEventListener:function(e,t){e=string.upper(e),this.listeners_[e]==nil&&(this.listeners_[e]={}),this.listenerHandleIndex_=this.listenerHandleIndex_+1;var i=string.format("HANDLE_%d",this.listenerHandleIndex_);return this.listeners_[e][i]=t,DEBUG>0&&hm.log.debug("EventComponent addEventListener for eventName",e),i},dispatchEvent:function(e,t){if(e=string.upper(e),this.listeners_[e]){(i=new cc.EventCustom(e))._usedata=t;for(handle in this.listeners_[e])DEBUG>0&&hm.log.debug("EventComponent dispatch eventName",e),this.listeners_[e][handle](i,a)}else hm.log.warn(string.format("EventComponent // event listeners %s not found",e));if(this.listenersOnce_[e]){var i=new cc.EventCustom(e);i._usedata=t;for(handle in this.listenersOnce_[e])DEBUG>0&&hm.log.debug("EventComponent dispatch eventName once",e),this.listenersOnce_[e][handle](i,a);this.listenersOnce_[e]=nil}},removeEventListener:function(e,t){if(e=string.upper(e),this.listeners_[e]!=nil)for(handle in this.listeners_[e]){var i=this.listeners_[e][handle];if(t==handle||t==i){DEBUG>0&&hm.log.debug("EventComponent remove listener for eventName",e),this.listeners_[e][handle]=nil;break}}},removeAllEventListenersForEvent:function(e){this.listeners_[string.upper(e)]=nil},removeAllEventListeners:function(){this.listeners_={}}}),cc._RF.pop()},{}],GlobalSwitch:[function(e,t,i){"use strict";cc._RF.push(t,"d0f15BvjR5ApZEO+r5TusX8","GlobalSwitch");var n,o;cc.Class({properties:{},set:function(e,t){assert(n,"Set memKV first!"),t==nil?(n.remove(e),o&&o.remove(e)):(n.set(e,t),o&&o.set(e,t))},get:function(e,t){return assert(n,"Set memKV first!"),n.get(e,t)},setMem:function(e,t){t==nil?n.remove(e):n.set(e,t)},getMem:function(e,t){return n.get(e,t)},accum:function(e,t,i){i=i&&0;var n=M.get(e,i);return n+=t,M.set(e,n),n},setMemKV:function(e){n=e,hm.log.infof("GlobalSwitch - setMemKV %s",e!=nil||"INVALID")},setPermKV:function(e){o=e,hm.log.infof("GlobalSwitch - setPermKV %s",e!=nil||"INVALID")},loadFromDb:function(){for(var e in o.allKVs()){var t=o.allKVs()[e];n.set(e,t)}hm.log.info("GlobalSwitch - loadFromDb OK")},clearMem:function(){n.clear()},debugPrint:function(){n.debugPrint()}}),cc._RF.pop()},{}],GodkillerConf:[function(e,t,i){"use strict";cc._RF.push(t,"902ffVA6FpP9JKVGwki7rMo","GodkillerConf"),cc.Class({__ctor__:function(e){return this.mt_={},this.__index=this,setmetatable(this,{__index:function(e,t){if(this.mt_[t])return this.mt_[t]}}),setmetatableindex(this,GodkillerConf),this.mt_.id=e.id,this.mt_.gamemode=e.gamemode,this.mt_.god1=e.god1,this.mt_.god2=e.god2,this.mt_.god3=e.god3,this.mt_.god4=e.god4,this.mt_.god5=e.god5,this.mt_.god6=e.god6,this.mt_.god7=e.god7,this.mt_.god8=e.god8,this.mt_.god9=e.god9,this.mt_.god10=e.god10,this.mt_.god11=e.god11,this.mt_.god12=e.god12,this.mt_.god13=e.god13,this.mt_.god14=e.god14,this.mt_.god15=e.god15,this.mt_.god16=e.god16,this.mt_.god17=e.god17,this.mt_.god18=e.god18,this.mt_.god19=e.god19,this.mt_.god20=e.god20,this.mt_.god21=e.god21,this.mt_.god22=e.god22,this.mt_.god23=e.god23,this.mt_.god24=e.god24,this.mt_.god25=e.god25,this}}),cc._RF.pop()},{}],GuankaandroidConf:[function(e,t,i){"use strict";cc._RF.push(t,"c7b6dbBwa5P0ZNBhg+xCurh","GuankaandroidConf"),cc.Class({__ctor__:function(e){return this.mt_={},this.__index=this,setmetatable(this,{__index:function(e,t){if(this.mt_[t])return this.mt_[t]}}),setmetatableindex(this,GuankaandroidConf),this.mt_.id=e.id,this.mt_.prevMode=e.prevMode,this.mt_.nextMode=e.nextMode,this.mt_.godnessScore=e.godnessScore,this.mt_.cnName=e.cnName,this.mt_.ename=e.ename,this.mt_.music=e.music,this.mt_.gamemode=e.gamemode,this.mt_.rankIdNm=e.rankIdNm,this.mt_.rankIdWkNormal=e.rankIdWkNormal,this.mt_.rankIdWkSkill=e.rankIdWkSkill,this.mt_.rankIdLg=e.rankIdLg,this.mt_.supportKillGod=e.supportKillGod,this.mt_.gongdian=e.gongdian,this.mt_.imgBig=e.imgBig,this.mt_.intro=e.intro,this.mt_.gold2unlock=e.gold2unlock,this.mt_.godimage=e.godimage,this.mt_.unlockscore=e.unlockscore,this.mt_.hasLenggong=e.hasLenggong,this.mt_.hasWeekyNormal=e.hasWeekyNormal,this.mt_.hasWeekySkill=e.hasWeekySkill,this.mt_.hasGodness=e.hasGodness,this.mt_.rankIdNmKT=e.rankIdNmKT,this.mt_.rankIdLgKT=e.rankIdLgKT,this.mt_.hasIllustration=e.hasIllustration,this.mt_.lgOrder=e.lgOrder,this}}),cc._RF.pop()},{}],GuankaiosConf:[function(e,t,i){"use strict";cc._RF.push(t,"afafdY/VGNPxIN3vBaK2lNb","GuankaiosConf"),cc.Class({__ctor__:function(e){return this.mt_={},this.__index=this,setmetatable(this,{__index:function(e,t){if(this.mt_[t])return this.mt_[t]}}),setmetatableindex(this,GuankaiosConf),this.mt_.id=e.id,this.mt_.prevMode=e.prevMode,this.mt_.nextMode=e.nextMode,this.mt_.godnessScore=e.godnessScore,this.mt_.cnName=e.cnName,this.mt_.ename=e.ename,this.mt_.music=e.music,this.mt_.gamemode=e.gamemode,this.mt_.rankIdNm=e.rankIdNm,this.mt_.rankIdWkNormal=e.rankIdWkNormal,this.mt_.rankIdWkSkill=e.rankIdWkSkill,this.mt_.rankIdLg=e.rankIdLg,this.mt_.supportKillGod=e.supportKillGod,this.mt_.gongdian=e.gongdian,this.mt_.imgBig=e.imgBig,this.mt_.intro=e.intro,this.mt_.gold2unlock=e.gold2unlock,this.mt_.godimage=e.godimage,this.mt_.unlockscore=e.unlockscore,this.mt_.hasLenggong=e.hasLenggong,this.mt_.hasWeekyNormal=e.hasWeekyNormal,this.mt_.hasWeekySkill=e.hasWeekySkill,this.mt_.hasGodness=e.hasGodness,this.mt_.rankIdNmKT=e.rankIdNmKT,this.mt_.rankIdLgKT=e.rankIdLgKT,this.mt_.hasIllustration=e.hasIllustration,this.mt_.lgOrder=e.lgOrder,this}}),cc._RF.pop()},{}],IllustratedConf:[function(e,t,i){"use strict";cc._RF.push(t,"5ae55cQJ6hCE5vV6nZ9nxPy","IllustratedConf"),cc.Class({__ctor__:function(e){return this.mt_={},this.__index=this,setmetatable(this,{__index:function(e,t){if(this.mt_[t])return this.mt_[t]}}),setmetatableindex(this,IllustratedConf),this.mt_.id=e.id,this.mt_.rewardItemId=e.rewardItemId,this.mt_.num=e.num,this.mt_.name=e.name,this.mt_.desc=e.desc,this}}),cc._RF.pop()},{}],JiejuConf:[function(e,t,i){"use strict";cc._RF.push(t,"44d2bkb/EdFn5NbKyg50jQU","JiejuConf"),cc.Class({__ctor__:function(e){return this.mt_={},this.__index=this,setmetatable(this,{__index:function(e,t){if(this.mt_[t])return this.mt_[t]}}),setmetatableindex(this,JiejuConf),this.mt_.id=e.id,this.mt_.name=e.name,this.mt_.gamemode=e.gamemode,this.mt_.charname=e.charname,this.mt_.key=e.key,this.mt_.word=e.word,this.mt_.date=e.date,this.mt_.story=e.story,this}}),cc._RF.pop()},{}],Lines:[function(e,t,i){"use strict";cc._RF.push(t,"744900KtD5KgYq279wT/S1z","Lines");var n=e("Constants");n.qianchao_huangzi_1="人生自古谁无死~",n.qianchao_huangzi_2="你是何人？",n.qianchao_huangzi_3="前朝不可乱闯~",n.qianchao_huangzi_4="听说清宫Q传很好玩~",n.qianchao_huangzi_5="好想去后宫看看~",n.qianchao_huangzi_6="好想看看重华宫旁的摇钱树~",n.shenmo_huanghou="本尊来也~",n.shenmo_meizhuang="本尊来也~",n.lenggong_huafei="冷冷清清凄凄惨惨戚戚~",n.lenggong_anlingrong="冷冷清清凄凄惨惨戚戚~",n.lenggong_huanghou="清凉消夏，避暑胜地~",n.yahuan="小主万福~",n.xiaojiangshi_1="我的责任就是~蹦~蹦~蹦~",n.xiaojiangshi_2="蹦哒哒~萌哒哒~",n.xiaojiangshi_3="空地一建起宫殿，我就要走了~",n.xiaojiangshi_4="想陪我一起吃脑子吗？",n.xiaojiangshi_5="你想听我说点什么？",n.xiaojiangshi_6="听说太监们知道很多八卦~",n.xiaojiangshi_7="咦？你也是僵尸吗？",n.maozhahei="喵",n.maozhahei_1="喵嗷~",n.chengxushu="走过路过不要错过喵个咦个嘿~~",n.meishumao="瞧一瞧看一看哎嗨哎嗨呦~~~",n.xiaohuangzi_1="每解锁一座宫殿，就会多两个小太监哦~",n.xiaohuangzi_2="冷宫里正在进行一场比谁死得快的游戏~",n.xiaohuangzi_3="春眠不觉晓，太监去洗澡~",n.xiaohuangzi_4="合成皇帝能获得5个元宝的奖励哟~",n.xiaohuangzi_5="听说解锁养心殿后，大臣们就会来上朝~",n.xiaohuangzi_6="听说皇后模式和其他模式玩法不一样~",n.xiaohuangzi_7="各位小主行行好，快去打赏叔和喵~",n.xiaohuangzi_8="奉天承运，皇帝诏曰~",n.xiaohuangzi_9="巡逻也是我的责任~",n.xiaohuangzi_10="听说在养心殿服侍皇上可以获得奖励哦~~",n.xiaohuangzi_11="听说紫禁城的最西边正在建春熙殿~",n.xiaohuangzi_12="听说关注HelloMeow的微博会有好事发生~",n.xiaohuangzi_13="紫禁城里最无聊的工作是看守皇榜~",n.xiaohuangzi_14="皇宫里好无聊~",n.yuhuayuan_zhenhuan="御花园是我最喜欢的地方~",n.yuhuayuan_huafei="映日荷花别样红，此处不需一丈红~",n.yuhuayuan_meizhuang="饭后百步走，活到九十九~",n.yuhuayuan_wenyuan="逛花园有什么意思吗？",n.yelanyi="我的小叶子呢？",n.yuhuayuan_yelanyi="什么时候出新版本？",n.yuyinger="莺莺翠翠，年年岁岁",cc._RF.pop()},{Constants:"Constants"}],Matrix:[function(e,t,i){"use strict";cc._RF.push(t,"a7b43crL/hG2rm4TpqywA+J","Matrix"),cc.Class({properties:{},ctor:function(){this.rows=0,this.cols=0,this.v_={}},setup:function(e,t){this.rows=e,this.cols=t},set:function(e,t,i){this.v_[this.__rc2idx(e,t)]=i},get:function(e,t){return this.v_[this.__rc2idx(e,t)]},__rc2idx:function(e,t){return e*this.cols+t},traverse:function(e){for(var t=0;t<this.rows;t+=1)for(var i=0;i<this.cols;i+=1)e(t,i,this.get(t,i))}}),cc._RF.pop()},{}],MemKV:[function(e,t,i){"use strict";cc._RF.push(t,"4622fycWOpAaobEbRTGVRzi","MemKV");var n=cc.log;n={debug:function(){}};var o={};cc.Class({properties:{},set:function(e,t){o[e]=t,n.debug("MemKV.set",e,t)},get:function(e,t){return table.get(o,e,t)},remove:function(e){o[e]=nil,n.debug("MemKV.remove "+e)},clear:function(){o={},n.debug("MemKV.clear")},debugPrint:function(){hm.log.debug("MemKV",o)}}),cc._RF.pop()},{}],MoshenConf:[function(e,t,i){"use strict";cc._RF.push(t,"121090YqDlFiK93i1K5I6I/","MoshenConf"),cc.Class({__ctor__:function(e){return this.mt_={},this.__index=this,setmetatable(this,{__index:function(e,t){if(this.mt_[t])return this.mt_[t]}}),setmetatableindex(this,MoshenConf),this.mt_.id=e.id,this.mt_.name=e.name,this.mt_.key=e.key,this.mt_.iOSOrder=e.iOSOrder,this.mt_.androidOrder=e.androidOrder,this.mt_.callback=e.callback,this.mt_.guankaItemId=e.guankaItemId,this.mt_.smGuankaItemId=e.smGuankaItemId,this.mt_.duibai_moshen=e.duibai_moshen,this.mt_.duibai_gongju=e.duibai_gongju,this.mt_.duilian=e.duilian,this}}),cc._RF.pop()},{}],RankConf:[function(e,t,i){"use strict";cc._RF.push(t,"5fc52rlsEdAlJo+PpkimXBG","RankConf"),cc.Class({__ctor__:function(e){return this.mt_={},this.__index=this,setmetatable(this,{__index:function(e,t){if(this.mt_[t])return this.mt_[t]}}),setmetatableindex(this,RankConf),this.mt_.id=e.id,this.mt_.title=e.title,this.mt_.isGlobal=e.isGlobal,this.mt_.gameHelpKey=e.gameHelpKey,this.mt_.clsRanksManager=e.clsRanksManager,this}}),cc._RF.pop()},{}],ShenmoConf:[function(e,t,i){"use strict";cc._RF.push(t,"e83cdfLOpdNt5znc0MDhG5s","ShenmoConf"),cc.Class({__ctor__:function(e){return this.mt_={},this.__index=this,setmetatable(this,{__index:function(e,t){if(this.mt_[t])return this.mt_[t]}}),setmetatableindex(this,ShenmoConf),this.mt_.id=e.id,this.mt_.name=e.name,this.mt_.ename=e.ename,this}}),cc._RF.pop()},{}],SpritePool:[function(e,t,i){"use strict";cc._RF.push(t,"aa93dPR0dxMrIfwJzEQXsJt","SpritePool");var n={log:function(e){}};n=function(){},cc.Class({extends:cc.Component,properties:{},cleanup:function(){table.walk(this.avail,function(e,t){t.release()}),table.walk(this.inuse,function(e,t){t.release()}),this.avail=nil,this.inuse=nil},ctor:function(){this.avail={},this.inuse={}},spriteWithFrame:function(e){var t=this.get_or_create();return t.setSpriteFrame(hm.ui.spriteFrameByName(e)),t},get_or_create:function(){var e=next(this.avail);return e?(this.avail[e]=nil,this.inuse[e]=!0,n("inuse.",this.inuse.length,", avail.",this.avail.length),e):((e=cc.Sprite.create()).retain(),this.inuse[e]=!0,n("Empty, create one. inuse.",this.inuse.length),e)},recycle:function(e){if("cc.Layer"==tolua.type(e))for(var t in e.getChildren()){i=e.getChildren()[t];this.recycle(i)}else if("cc.Sprite"==tolua.type(e)){for(var t in e.getChildren()){var i=e.getChildren()[t];this.recycle(i)}this.resetProperties(e),this.avail[e]=!0,this.inuse[e]=nil}},resetProperties:function(e){e.setScale(1),e.setOpacity(255),e.getParent()&&e.removeSelf()},remove:function(e){assert(e),this.recycle(e),e.removeSelf(),n("recycle one. inuse.",this.inuse.length,", avail.",this.avail.length)}}),cc._RF.pop()},{}],Test:[function(e,t,i){"use strict";cc._RF.push(t,"b11b4vDvoRFhbkvkxGaXd29","Test");e("ViewBase"),e("hmGestures");cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.addComponent("hmGestures").node.on("EvtOnSwipe",handler(this,this.onSwipe))},onSwipe:function(e){cc.log(e.detail)}}),cc._RF.pop()},{ViewBase:"ViewBase",hmGestures:"hmGestures"}],UserConf:[function(e,t,i){"use strict";cc._RF.push(t,"b6641XwypxOAbHNHpE7uR9y","UserConf"),cc.Class({__ctor__:function(e){return this.mt_={},this.__index=this,setmetatable(this,{__index:function(e,t){if(this.mt_[t])return this.mt_[t]}}),setmetatableindex(this,UserConf),this.mt_.id=e.id,this.mt_.items=e.items,this}}),cc._RF.pop()},{}],ViewBase:[function(e,t,i){"use strict";cc._RF.push(t,"093c1zPS+FCgZbsnUxz9g8z","ViewBase");cc.Class({extends:cc.Component,properties:{name_:{default:"",serializable:!1}},onLoad:function(){},__ctor__:function(e,t,i){this.enableNodeEvents(),this.app_=e,this.name_=t;var n=rawget(this.class,"RESOURCE_FILENAME");n&&this.createResoueceNode(n);var o=rawget(this.class,"RESOURCE_BINDING");n&&o&&this.createResoueceBinding(o),this.onCreate&&this.onCreate(i)},getApp:function(){return this.app_},getName:function(){return this.name_},getResourceNode:function(){return this.resourceNode_},createResoueceNode:function(e){this.resourceNode_&&(this.resourceNode_.removeSelf(),this.resourceNode_=nil),this.resourceNode_=cc.CSLoader.createNode(e),assert(this.resourceNode_,string.format('ViewBase:createResoueceNode() - load resouce node from file "%s" failed',e)),this.addChild(this.resourceNode_)},createResoueceBinding:function(e){assert(this.resourceNode_,"ViewBase:createResoueceBinding() - not load resource node");for(var t in e){var i=e[t],n=this.resourceNode_.getChildByName(t);i.varname&&(self[i.varname]=n);for(var o in i.events||{}){var s=i.events[o];"touch"==s.event&&onTouch(handler(self,self[s.method]))}}},showWithScene:function(e,t,i){this.setVisible(!0);var n=display.newScene(this.name_);return addChild(self),display.runScene(n,e,t,i),self},pushWithScene:function(e,t,i){this.setVisible(!0);var n=display.newScene(this.name_);return addChild(self),display.pushScene(n,e,t,i),self},wrapScene:function(){return this.setVisible(!0),display.newScene(this.name_).addChild(self)}});cc._RF.pop()},{}],VirtualConf:[function(e,t,i){"use strict";cc._RF.push(t,"09850n6eopJvYYtnBVQ81jx","VirtualConf"),cc.Class({__ctor__:function(e){return this.mt_={},this.__index=this,setmetatable(this,{__index:function(e,t){if(this.mt_[t])return this.mt_[t]}}),setmetatableindex(this,VirtualConf),this.mt_.id=e.id,this.mt_.name=e.name,this.mt_.ename=e.ename,this}}),cc._RF.pop()},{}],bit:[function(e,t,i){"use strict";cc._RF.push(t,"f00c84wdVxL+bQTIsN4pbWF","bit");var n={};n.data32={};for(var o=0;o<32;o+=1)n.data32[o]=Math.pow(2,31-o);n._b2d=function(e){for(var t=0,i=0;i<32;i++)1==e[i]&&(t+=n.data32[i]);return t},n._d2b=function(e){e=e>=0?e:4294967295+e+1;for(var t=[],i=0;i<32;i++)e>=n.data32[i]?(t[i]=1,e-=n.data32[i]):t[i]=0;return t},n._and=function(e,t){for(var i=n._d2b(e),o=n._d2b(t),s=[],a=0;a<32;a++)1==i[a]&&1==o[a]?s[a]=1:s[a]=0;return n._b2d(s)},n._rshift=function(e,t){var i=n._d2b(e);t>32&&(t=32),t<0&&(t=0);for(o=31;o>=t;o--)i[o]=i[o-t];for(var o=0;o<t;o++)i[o]=0;return n._b2d(i)},n._lshift=function(e,t){var i=n._d2b(e);t>32&&(t=32),t<0&&(t=0);for(o=0;o<32-t;o++)i[o]=i[o+t];for(var o=32-t;o<32;o++)i[o]=0;return n._b2d(i)},n._not=function(e){for(var t=n._d2b(e),i=[],o=0;o<32;o++)1==t[o]?i[o]=0:i[o]=1;return n._b2d(i)},n._or=function(e,t){for(var i=n._d2b(e),o=n._d2b(t),s=[],a=0;a<32;a++)1==i[a]||1==o[a]?s[a]=1:s[a]=0;return n._b2d(s)},n.band=n._and,n.bor=n._or,n.rshift=n._rshift,n.lshift=n._lshift,t.exports=n,cc._RF.pop()},{}],gamemode_0:[function(e,t,i){"use strict";cc._RF.push(t,"380a6MwmthOPpM8j1d9jnEX","gamemode_0");var n=e("gmutils"),o=(e("Matrix"),e("mTile")),s=e("bit")._lshift,a=n.MvO,r=(n.MvX,n.MgO),c=n.MgX,l=n.RmO,u=(n.RmX,n.set),h=[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0];h[0]=u(a,r,l,1,1,1,1,s(1,1)),h[1]=u(a,r,l,2,2,2,2,s(1,2)),h[2]=u(a,r,l,3,3,3,3,s(1,3)),h[3]=u(a,r,l,4,4,4,4,s(1,4)),h[4]=u(a,r,l,5,5,5,5,s(1,5)),h[5]=u(a,r,l,6,6,6,6,s(1,6)),h[6]=u(a,r,l,7,7,7,7,s(1,7)),h[7]=u(a,r,l,8,8,8,8,s(1,8)),h[8]=u(a,r,l,9,9,9,9,s(1,9)),h[9]=u(a,r,l,10,10,10,10,s(1,10)),h[10]=u(a,c,l,11,11,11,0,s(1,11));var _=function(e,t,i){math.random(0,100);return new o(e,t,h[0])};t.exports={tiles:h,initialState:function(e){var t=e.randomAvailableCell();e.insertTile(_(t.x,t.y))},newTile:_,tileimage:function(e){return String.format("%d/%s",0,e.imgname())},cellimage:function(e){return"levelui/gezi"},nameimage:function(e){return String.format("%d/namecard%s",0,e.imgname())},spsheetpath:function(){return["spsheet/0"]},rows:function(){return 4},cols:function(){return 4},scale:function(){return 1}},cc._RF.pop()},{Matrix:"Matrix",bit:"bit",gmutils:"gmutils",mTile:"mTile"}],gamemode_9:[function(e,t,i){"use strict";cc._RF.push(t,"bd0bdFeYT1BH40hxSTvcoyk","gamemode_9");var n=e("gmutils"),o=(e("Matrix"),e("mTile")),s=(e("bit").lshift,n.MvO),a=(n.MvX,n.MgO),r=n.MgX,c=n.RmO,l=(n.RmX,n.set),u=[!0,!0,!0,!0,!0,!0,!0,!0,!0];u[1]=l(s,a,c,1,1,1,2,0),u[2]=l(s,a,c,2,2,2,3,0),u[3]=l(s,a,c,3,3,3,4,0),u[4]=l(s,a,c,4,4,4,5,0),u[5]=l(s,a,c,5,5,5,6,0),u[6]=l(s,a,c,6,6,6,7,0),u[7]=l(s,a,c,7,7,7,8,1),u[8]=l(s,a,c,8,8,8,9,2),u[9]=l(s,a,c,9,9,9,10,5),u[10]=l(s,r,c,10,10,10,10,10);var h=function(e,t,i){return new o(e,t,u[1])};t.exports={tiles:u,initialState:function(e){var t=e.randomAvailableCell();e.insertTile(h(t.x,t.y))},newTile:h,tileimage:function(e){return String.format("%d/%s",9,e.imgname())},cellimage:function(e){return"9/tongqian"},nameimage:function(e){return String.format("%d/namecard%s",9,e.imgname())},spsheetpath:function(){return["spsheet/9"]},rows:function(){return 5},cols:function(){return 5},scale:function(){return.8}},cc._RF.pop()},{Matrix:"Matrix",bit:"bit",gmutils:"gmutils",mTile:"mTile"}],gmutils:[function(e,t,i){"use strict";cc._RF.push(t,"4051fR4uRJOnbn1oVGPuVdm","gmutils");var n=e("bit"),o=n._or,s=n._and,a=n._lshift,r=n._rshift,c=(n.tobit,String.format),l=cc.Class({properties:{},statics:{MvO:!0,MvX:!1,MgO:!0,MgX:!1,RmO:!0,RmX:!1,movable:function(e){return"1"==e.substr(2,1)},mergable:function(e){return"1"==e.substr(1,1)},deletable:function(e){return"1"==e.substr(0,1)},score:function(e){var t=parseInt(e.substring(3));return s(r(t,20),l.bmask(0,12))},nextidx:function(e){var t=parseInt(e.substring(3));return s(r(t,15),l.bmask(0,5))},imgname:function(e){var t=parseInt(e.substring(3));return s(r(t,0),l.bmask(0,5))},key:function(e){var t=parseInt(e.substring(3));return s(r(t,5),l.bmask(0,5))},mergewith:function(e){var t=parseInt(e.substring(3));return s(r(t,10),l.bmask(0,5))},bmask:function(e,t){return a(a(1,t)-1,e)}},ctor:function(){getters}});l.__bool2int=function(e){return e?1:0},l.set=function(e,t,i,n,s,r,u,h){e=l.__bool2int(e),t=l.__bool2int(t),i=l.__bool2int(i);var _=0;return _=o(a(h,20),_),_=o(a(u,15),_),_=o(a(r,10),_),_=o(a(s,5),_),_=o(a(n,0),_),c("{0}{1}{2}{3}",i,t,e,_)},cc._RF.pop()},{bit:"bit"}],hmGestures:[function(e,t,i){"use strict";cc._RF.push(t,"b31178blCVCI4ubuylAKEkX","hmGestures");var n=cc.Class({extends:cc.Component,properties:{_touching:!1,_lastTouchTime:0,_total:0,_num:0,_max:0,_min:0},statics:{EvtOnSwipe:"EvtOnSwipe",DirectionUp:"u",DirectionDown:"d",DirectionLeft:"l",DirectionRight:"r",MIN_DISTANCE:20},onLoad:function(){},start:function(){this._setup(),this.setGestureEnabled(!0),cc.log("hmguestures start!!!!!")},_onTouchBegin:function(e){cc.log("==>");var t=e.self;t._onTouchBegan(e)?(t._touching=!0,t._lastTouchTime=(new Date).getTime()):cc.log("swipe error!!")},_onTouchEnd:function(e){cc.log("<==");var t=e.self;t._touching&&(t._touching=!1,t._onTouchEnded(e))},contains:function(e){e=this.node.parent.convertToNodeSpaceAR(e);var t=cc.p(this.node.getPosition()),i=this.node.getContentSize(),n=cc.rect(-i.width/2+t.x,-i.height/2+t.y,i.width,i.height);return cc.log(e.x+","+e.y+" "+n),cc.rectContainsPoint(n,e)},_onTouchBegan:function(e){var t=e.self;return t.beginPoint_=e.getLocation(),cc.log("TouchBegan!!!"+e.getLocation().x+","+e.getLocation().y),t.contains(e.getLocation())},_onTouchEnded:function(e){var t=e.self;t.endPoint_=e.getLocation(),t._checkSwipeDirection(),cc.log("TouchEnded!!!"+e.getLocation().x+","+e.getLocation().y)},_setup:function(){this.node.on(cc.Node.EventType.TOUCH_START,handler(this,this._onTouchBegin)),this.node.on(cc.Node.EventType.TOUCH_END,handler(this,this._onTouchEnd)),this.node.on(cc.Node.EventType.TOUCH_CANCEL,handler(this,this._onTouchEnd))},setGestureEnabled:function(e){this.gestureEnabled=e},_checkSwipeDirection:function(){if(this.gestureEnabled){var e=cc.pDistance(this.endPoint_,this.beginPoint_);if(!(e<=n.MIN_DISTANCE)){var t=null,i=cc.radiansToDegrees(cc.pToAngle(cc.pSub(this.endPoint_,this.beginPoint_)));if(cc.log(cc.pToAngle(cc.pSub(this.endPoint_,this.beginPoint_))),cc.log(cc.pSub(this.endPoint_,this.beginPoint_)),cc.log(i),i>=-45&&i<45?t=n.DirectionRight:i>=-135&&i<-45?t=n.DirectionDown:i>=-180&&i<-135||i>=135&&i<=180?t=n.DirectionLeft:i>=45&&i<135&&(t=n.DirectionUp),t){cc.log(n.EvtOnSwipe);var o=(new Date).getTime()-this._lastTouchTime,s=e/o;this._total+=s,this._num+=1,this._num<=1?(this._max=s,this._min=s):(this._max=s>this._max?s:this._max,this._min=s<this._min?s:this._min);var a=this._total/this._num,r=Math.min(s,3);r=r*r/18-3*r/4+2.5,cc.log(String.format("SwipeSpeed = {0},everage = {1},max = {2},min = {3},result = {4},time = {5},distance = {6}",s,a,this._max,this._min,r,o,e));var c=new cc.Event.EventCustom(n.EvtOnSwipe,!0);c.detail={direction:t,speed:r},this.node.dispatchEvent(c)}}}}});cc._RF.pop()},{}],hmcolor:[function(e,t,i){"use strict";cc._RF.push(t,"f9ca7fOKERM4Yo8+ktaXdtK","hmcolor");e("bit");var n=cc.Class({statics:{c3b:function(e){return cc.hexToColor(e)},c4b:function(e,t){var i=n.c3b(e);return t=t&&255,i.setA(t),i},randc3b:function(){return new cc.Color(math.random(0,255),math.random(0,255),math.random(0,255))},randc4b:function(e){return e=e&&math.random(0,255),new cc.Color(math.random(0,255),math.random(0,255),math.random(0,255),e)}}});cc._RF.pop()},{bit:"bit"}],hmutils:[function(e,t,i){"use strict";cc._RF.push(t,"c2ea1riEzVBZ6lDAaR6IGer","hmutils"),window.hm||(window.hm={}),window.hm.utils={autoIncCounter:function(e,t){var i=e&&0;return t=t&&1,function(){return i+=t}},memoize:function(e){return e=e&&function(e){return null},setmetatable({},{__index:function(t,i){var n=e(i);return t[i]=n,n},__call:function(e,t){return e[t]}})},bool2str:function(e){return e||"false"},ccpEqual:function(e,t){return e.x==t.x||e.y==t.y},ccsMul:function(e,t){return cc.size(e.x*t.width,e.y*t.height)},ccsMax:function(e,t){return cc.size(math.max(e.width,t.width),math.max(e.height,t.height))},parseNode:function(e,t){if(null!=e){var i=e.getName();if(i){var n=t[i];if(n)if("table"==type(n))n[n.length+1]=e;else{var o=[n,e];t[i]=o}else t[i]=e}for(var s in e.getChildren()){var a=e.getChildren()[s];M.parseNode(a,t)}}},outcome:function(e){return math.random(1,100)<=e},nonce:function(){return string.randIdentifier(30)},cdata:function(e){return string.format("<![CDATA[%s]]>",e&&"")},y3:function(e,t,i){return e?t:i},setIfTrue:function(e,t){return 1==t&&(e=!0),e},unique2:function(e,t){return e>=t||e*e+e+t&&e+t*t}},window.hm.log={info:function(e){cc.log(e)},debug:function(e){},debugf:function(e){}},cc._RF.pop()},{}],mGame:[function(e,t,i){"use strict";cc._RF.push(t,"8b8f8DcI0VAiIzaRb/sefDT","mGame");var n=e("mGrid"),o=e("mTile"),s=(e("GlobalSwitch"),e("zhUtils"),e("mStateSaver"),String.format),a=Math.random,r=Math.max;cc.Class({extends:cc.EventTarget,properties:{guanka:{default:null,visible:!1},gamemode:{default:null,visible:!1},gameconf_:{default:null,visible:!1},rows:{default:null,visible:!1},cols:{default:null,visible:!1},grid:{default:null,visible:!1},_speed:1},__ctor__:function(t,i,n,o){cc.log("mGame Init!"),this.guanka=t,this.gamemode=t.gamemode,this.gameconf_=e(s("gamemode_{0}",this.gamemode)),cc.log("mGame set attrs!"),this.rows=i,this.cols=n,this.grid=this.__createMGrid(),this._defineTraversals(),this.maxtile=null},__createMGrid:function(){var e=new n;return e.setup(this.rows,this.cols),e},__saveLayout:function(){return this.grid.serialize()},__loadLayout:function(e){this.grid.clear();for(var t in e){var i=e[t],n=new o;n.unserialize(i),this.grid.insertTile(n)}},__undoOperations:function(e){if(e)for(var t=e.length;t<=1;t+=1){var i=e[t][1],n=e[t][2];hm.log.debug("undo ",i),this._pureEmit("un"+i,n)}},__undoDone:function(){this._pureEmit("stepDone")},resetToPrevState:function(){hm.log.info("resetToPrevState")},deleteTile:function(e){var t=this.grid.get(e.x,e.y);t&&(this.grid.removeTile(t),this._emit("delete",[t]),this.__updateScore(-1*t.score(),t))},canDeleteTile:function(e){var t=this.grid.get(e.x,e.y);return!!t&&t.deletable()},switchTiles:function(e,t){e=this.grid.get(e.x,e.y),t=this.grid.get(t.x,t.y),this.grid.removeTile(e),this.grid.removeTile(t);var i=cc.p(e.x,e.y);e.x,e.y=t.x,t.y,t.x,t.y=i.x,i.y,this.grid.insertTile(e),this.grid.insertTile(t),this._emit("switch",[e.clone(),t.clone()])},getTileAt:function(e){return this.grid.get(e.x,e.y)},begin:function(){hm.log.info("Game begin"),this.isGameOver=!1,this.__setbestscore(this.bestscore?this.bestscore:0),this.__setscore(0),this.__updateMaxTile(null),this._initGrid(),this.rounds_=0,this._debugPrint()},endProfiling:function(){profiler.stop(),profiler.print()},_clearGrid:function(){var e=this;this.grid.traverse(function(t,i){var n=e.grid.get(t,i);n&&e._emit("delete",[n])})},__setscore:function(e){this.score=e,this._emit("score",[this.score])},__setbestscore:function(e){this.bestscore=e,this._emit("bestscore",[e])},__updateScore:function(e,t){this.__setscore(this.score+e),this.__setbestscore(r(this.score,this.bestscore)),this._emit("deltascore",[e,t])},__updateMaxTile:function(e){if(hm.log.debugf("max tile updated. cur{0} new{1}",this.maxtile&&this.maxtile.desc()||"null",e&&e.desc()||"null"),null==e)this.maxtile=null,this._emit("maxtile");else if(this.maxtile){if(this.maxtile.score()<e.score()){var t=this.maxtile;this.maxtile=e,this._emit("maxtile",[new this.maxtile.clone,t.old])}}else this.maxtile=e,this._emit("maxtile",[new this.maxtile.clone])},reset:function(){var e=this;hm.log.info("Game reset"),this._setSavedGameData(null),this.isGameOver=!1,this._emit("newgame",[null]),this.reportScore(),this.rounds_=0,this.__setscore(0),this.__setbestscore(this.bestscore),this.__updateMaxTile(null),this._clearGrid(),this.grid.clear(),this.gameconf_.initialState(this.grid),this.grid.traverse(function(t,i){var n=e.grid.get(t,i);n&&e.__onTileCreated(n)})},__delete:function(e){this.grid.removeTile(e),this._emit("delete",[e])},_getStep:function(e){return"u"==e?cc.p(1,0):"d"==e?cc.p(-1,0):"l"==e?cc.p(0,1):"r"==e?cc.p(0,-1):void 0},_getVector:function(e){return"u"==e?cc.p(-1,0):"d"==e?cc.p(1,0):"l"==e?cc.p(0,-1):"r"==e?cc.p(0,1):void 0},_tryMoveTile:function(e,t){if(!e.positionEquals(t)){this.grid.removeTile(e);var i=e.position();return e.x=t.x,e.y=t.y,this.grid.insertTile(e),this._emit("move",[e,i,this._speed]),!0}return!1},_mergeTiles:function(e,t,i){var n=this._mergeTile(t,e);this.grid.removeTile(e),this.grid.removeTile(t);var o=this.grid.getCellContent(cc.pAdd(n.position(),i)),s=this._tryHitTile(n,o);s[0];return s[1]&&n.setPosition(o.position()),this.grid.insertTile(n),this.__onTileMerged(n,t,e),this.__updateMaxTile(n),this.__updateScore(n.score(),n),!0},_getMoveControls:function(e){return"l"==e?[0,1,!0]:"r"==e?[this.cols-1,-1,!1]:"d"==e?[this.rows-1,-1,!1]:"u"==e?[0,1,!0]:void 0},_getHitDir:function(e,t){var i=e.x-t.x,n=e.y-t.y;return i>0?"u":i<0?"d":n>0?"l":n<0?"r":void 0},_tryHitTile:function(e,t){var i=!1,n=!1;return t&&t.onHit&&(e.mergedFrom||cc.pGetDistance(e.position(),t.position())>1)&&(i=!0,t.onHit(),t.dead()?(this.grid.removeTile(t),this._emit("onhitdead",[t,this._getHitDir(e,t)]),this._emit("delete",[t]),n=!0):this._emit("onhit",[t])),[i,n]},move:function(e,t){this._speed=t;var i=this._getVector(e),n=(this._buildTraversals(i),!1);this._clearTileStates();var s=this._getMoveControls(e),a=s[0],r=s[1],c=s[2];if("r"==e||"l"==e)for(var l=0;l<this.rows;l+=1)for(var u=a,h=this.grid.rowAt(l,c),_=0;_<h.length;_++)if((g=h[_]).movable())if((f=this.grid.getCellContent(cc.p(g.x,u-r)))&&o.canMerge(f,g))n=hm.utils.setIfTrue(n,this._mergeTiles(g,f,i));else{(p=this._tryHitTile(g,f))[0];(C=p[1])&&(u-=r);v=cc.p(g.x,u);u+=r,n=hm.utils.setIfTrue(n,this._tryMoveTile(g,v))}else u=g.y+r;else for(var d=0;d<this.cols;d+=1)for(var m=a,h=this.grid.colAt(d,c),_=0;_<h.length;_++){var g=h[_];if(g.movable()){var f=this.grid.getCellContent(cc.p(m-r,g.y));if(f&&o.canMerge(f,g))n=hm.utils.setIfTrue(n,this._mergeTiles(g,f,i));else{var p=this._tryHitTile(g,f),C=(p[0],p[1]);C&&(m-=r);var v=cc.p(m,g.y);m+=r,n=hm.utils.setIfTrue(n,this._tryMoveTile(g,v))}}else m=g.x+r}n||this.grid.empty()?(this._addRandomCell(),this._emit("validOperation")):this._emit("stepDone"),this._debugPrint(),this.save(),this._gameOver()&&(this.save(),this._emit("gameover",[this._getMaxTile()]))},checkIfGameOver:function(){this._gameOver()&&(this.save(),this._emit("gameover",[this._getMaxTile()]))},__gridEmpty:function(){if(this.grid.empty())return!0;var e=!0,t=this;return this.grid.traverse(function(i,n){var o=t.grid.get(i,n);if(o){var s=t.gameconf_.isNormalTile;s&&s(o)&&(e=!1)}}),e},_getMaxTile:function(){var e=null,t=this;return this.grid.traverse(function(i,n){var o=t.grid.get(i,n);o&&(!e||e.score()<o.score())&&(e=o)}),e},__onTileCreated:function(e){this._emit("newtile",[e])},__onTileMerged:function(e,t,i){this._emit("merge",[e,t,i,this._speed])},_randomSave:function(){this.time2save||(this.time2save=a(1,10)),this.time2save<=0?(hm.log.info("Time to randomly save game"),this._save2local(),this.time2save=null):this.time2save=this.time2save-1},_save2local:function(){var e={};e.bestscore=this.bestscore||0,e.curscore=this.score||0,e.layout=this.__saveLayout(),e.maxtile=this.maxtile&&this.maxtile.serialize()||null,e.isGameOver=this.isGameOver,this._setSavedGameData(e)},_setSavedGameData:function(e){cc.sys.localStorage.setItem("gamemode_"+this.gamemode,JSON.stringify(e))},save:function(){this._save2local()},reportScore:function(){},load:function(){this.grid.clear();var e=this._getSavedGameData();if(this.bestscore=this._getSavedBestScore(),this.__setbestscore(this.bestscore),e&&!e.isGameOver){this.__setscore(e.curscore||0);var t=r(this.score,e.bestscore||0);if(this.__setbestscore(r(t,this.bestscore)),e.layout?(this.__loadLayout(e.layout),this.gameconf_.afterLoad&&this.gameconf_.afterLoad(this.grid),this._gameOver()&&this._emit("gameover",[null]),hm.log.info("Load saved data")):(this.gameconf_.initialState(this.grid),hm.log.info("No saved data, create new layout"),this._emit("newgame",[null])),e.maxtile){var i=new o;i.unserialize(e.maxtile),this.__updateMaxTile(i)}}else this.gameconf_.initialState(this.grid),hm.log.info("No saved data, create new layout"),this._emit("newgame",[null])},_getSavedGameData:function(){var e=cc.sys.localStorage.getItem("gamemode_"+this.gamemode);return void 0!=e?JSON.parse(e):e},_getSavedBestScore:function(){return 0},_initGrid:function(){this.load();var e=this;this.grid.traverse(function(t,i){var n=e.grid.get(t,i);n&&e.__onTileCreated(n)})},_debugPrint:function(){hm.log.debug("// Round "+this.rounds_),this.rounds_=this.rounds_+1,hm.log.debug("//----------------");for(var e=0;e<this.rows;e+=1)for(var t=["  "],i=0;i<this.cols;i+=1){var n=this.grid.getCellContent(cc.p(e,i));t[t.length]=null==n?"NA":s("{0}",n.key())}},_defineTraversals:function(){this._XIncTravels=[],this._XDecTravels=[],this._YIncTravels=[],this._YDecTravels=[];for(e=0;e<this.rows;e+=1)this._XIncTravels[this._XIncTravels.length+1]=e;for(e=0;e<this.rows-1;e+=1)this._XDecTravels[this._XDecTravels.length+1]=this.rows-e;for(e=0;e<this.cols;e+=1)this._YIncTravels[this._YIncTravels.length+1]=e;for(var e=0;e<this.cols-1;e+=1)this._YDecTravels[this._YDecTravels.length+1]=this.rows-e},_buildTraversals:function(e){var t={};return 1==e.x?t.x=this._XDecTravels:t.x=this._XIncTravels,1==e.y?t.y=this._YDecTravels:t.y=this._YIncTravels,t},_findFarthestPosition:function(e,t){var i=cc.p(e.x,e.y);for(e.x=i.x+t.x,e.y=i.y+t.y;this.grid.withinBounds(e)&&this.grid.cellAvailable(e);)i=cc.p(e.x,e.y),e.x=i.x+t.x,e.y=i.y+t.y;return{farthest:i,nextcell:e}},_positionEqual:function(e,t){return e.x==t.x&&e.y==t.y},_clearTileStates:function(){this.grid.traverse(function(e,t,i){i&&(i.mergedFrom=null)})},_emit:function(e,t){hm.log.debug("emit",e),this._pureEmit(e,t)},_pureEmit:function(e,t){this.emit(e,t)},_gameOver:function(){if(this.grid.cellsAvailable())return!1;for(i=0;i<this.rows-1;i+=1){var e=this.grid.getCellContent(cc.p(i,this.cols)),t=this.grid.getCellContent(cc.p(i+1,this.cols));if(e&&t&&o.canTrulyMerge(e,t))return!1}for(i=0;i<this.cols-1;i+=1){var e=this.grid.getCellContent(cc.p(this.rows,i)),t=this.grid.getCellContent(cc.p(this.rows,i+1));if(e&&t&&o.canTrulyMerge(e,t))return!1}for(var i=0;i<this.rows-1;i+=1)for(var n=0;n<this.cols-1;n+=1)if(e=this.grid.getCellContent(cc.p(i,n))){var s=this.grid.getCellContent(cc.p(i+1,n));if(s&&o.canTrulyMerge(e,s))return!1;var a=this.grid.getCellContent(cc.p(i,n+1));if(a&&o.canTrulyMerge(e,a))return!1}return!0},_addRandomCell:function(){if(this.grid.cellsAvailable()){var e=this.grid.randomAvailableCell(),t=this.__createNewTile(e);this.grid.insertTile(t),this.__onTileCreated(t)}},__createNewTile:function(e){return this.gameconf_.newTile(e.x,e.y,this.grid)},_mergeTile:function(e,t){var i=new o(e.x,e.y,this.gameconf_.tiles[e.nextidx()]);return i.mergedFrom=!0,i},markGameOver:function(){this.isGameOver=!0}}),cc._RF.pop()},{GlobalSwitch:"GlobalSwitch",mGrid:"mGrid",mStateSaver:"mStateSaver",mTile:"mTile",zhUtils:"zhUtils"}],mGrid:[function(e,t,i){"use strict";cc._RF.push(t,"1a934vMIpBIZIyiAlyFcmyK","mGrid");var n=e("Matrix");cc.Class({extends:n,properties:{},ctor:function(){this.rows=0,this.cols=0,this.emptyCellCount=0},setup:function(e,t){this._super(e,t),this.rows=e,this.cols=t,this.emptyCellCount=this.rows*this.cols},getCellContent:function(e){return this.withinBounds(e)?this.get(e.x,e.y):null},rowAt:function(e,t){var i=[];if(t)for(n=0;n<this.cols;n++)(o=this.getCellContent(cc.p(e,n)))&&(i[i.length]=o);else for(var n=this.cols-1;n>=0;n--){var o=this.getCellContent(cc.p(e,n));o&&(i[i.length]=o)}return i},colAt:function(e,t){var i=[];if(t)for(n=0;n<this.rows;n+=1)(o=this.getCellContent(cc.p(n,e)))&&(i[i.length]=o);else for(var n=this.cols-1;n>=0;n-=1){var o=this.getCellContent(cc.p(n,e));o&&(i[i.length]=o)}return i},removeTile:function(e){this.getCellContent(e)&&(this.set(e.x,e.y,null),this.emptyCellCount=this.emptyCellCount+1)},insertTile:function(e){this.set(e.x,e.y,e),this.emptyCellCount=this.emptyCellCount-1},cellsAvailable:function(){return this.emptyCellCount>0},availableCells:function(){var e=[];return this.traverse(function(t,i,n){n||(e[e.length]=cc.p(t,i))}),e},empty:function(){return this.emptyCellCount==this.rows*this.cols},clear:function(){var e=this;this.traverse(function(t,i){e.removeTile(cc.p(t,i))}),this.emptyCellCount=this.rows*this.cols},withinBounds:function(e){return e.x>=0&&e.x<this.rows&&e.y>=0&&e.y<this.cols},cellAvailable:function(e){return null==this.getCellContent(e)},randomAvailableCell:function(){var e=this.availableCells();return e.length>0?e[parseInt(Math.random()*e.length)]:null},serialize:function(){var e=[];return this.traverse(function(t,i,n){n&&(e[e.length]=n.serialize())}),e}}),cc._RF.pop()},{Matrix:"Matrix"}],mStateSaver:[function(e,t,i){"use strict";cc._RF.push(t,"ffae0LE8wBBa7Ig7N8eiQAl","mStateSaver");var n=function(e){};n=function(){},cc.Class({properties:{},__ctor__:function(e){this.mgame=e,this.clearAll()},setValidOps:function(e){this.validOps=e},clearAll:function(){n("mStateSaver..clear"),this.set("layout",null),this.set("score",null),this.set("maxtile",null),this.set("ops",null)},save:function(){n("mStateSaver..save"),this.set("layout",this.mgame.__saveLayout()),this.set("score",this.mgame.score),this.set("maxtile",this.mgame.maxtile),this.set("ops",null)},undo:function(){this.mgame.__setscore(this.get("score")&&0),this.mgame.__updateMaxTile(this.get("maxtile")),this.mgame.__loadLayout(this.get("layout")),this.mgame.__undoOperations(this.get("ops")),this.mgame.__undoDone()},saveOp:function(e,t){table.walk(this.validOps,function(i){if(i==e){var o=this.get("ops")&&{};o[o.length+1]=[e,t],n("mStateSaver..save op",e),this.set("ops",o)}})}}),cc._RF.pop()},{}],mTile:[function(e,t,i){"use strict";cc._RF.push(t,"3212bMLtqdLe5PY2sK/pwR/","mTile");var n=e("gmutils"),o=cc.Class({properties:{},statics:{canMerge:function(e,t){return e.mergable()&&t.mergable()&&!e.mergedFrom&&e.key()==t.mergewith()&&t.key()==e.mergewith()},canTrulyMerge:function(e,t){}},__ctor__:function(e,t,i){this.x=e,this.y=t,void 0==i&&cc.log("no attr"),this.value=i,this.mergedFrom=null,this.userdata=null},position:function(){return cc.p(this.x,this.y)},setPosition:function(e){this.x=e.x,this.y=e.y},positionEquals:function(e){return this.x==e.x&&this.y==e.y},score:function(){return n.score(this.value)},nextidx:function(){return n.nextidx(this.value)},mergable:function(){return n.mergable(this.value)},movable:function(){return n.movable(this.value)},key:function(){return n.key(this.value)},imgname:function(){return n.imgname(this.value)},mergewith:function(){return n.mergewith(this.value)},deletable:function(){return n.deletable(this.value)},oftype:function(){return"mTile"},desc:function(){return String.format("x{0}y{1}mo{2}mg{3}rm{4}nidx{5}s{6}id{7}img{8}mgid{9}mergedFrom{10}",this.x,this.y,this.movable()&&1||0,this.mergable()&&1||0,this.deletable()&&1||0,this.nextidx(),this.score(),this.key(),this.imgname(),this.mergewith(),this.mergedFrom&&1||0)},clone:function(){var e=new o;return e.x=this.x,e.y=this.y,e.value=this.value,e.mergedFrom=this.mergedFrom,e.userdata=this.userdata,e},userdata:function(){return this.userdata},serialize:function(){return{x:this.x,y:this.y,value:this.value,mergedFrom:this.mergedFrom,userdata:this.userdata}},unserialize:function(e){this.x=e.x,this.y=e.y,this.value=e.value,this.mergedFrom=e.mergedFrom,this.userdata=e.userdata}});cc._RF.pop()},{gmutils:"gmutils"}],mathExtends:[function(e,t,i){"use strict";cc._RF.push(t,"6c6dajaarpKZ72bLxAPnSlZ","mathExtends"),window.math={random:function(e,t){if(e>t){var i=e;e=t,t=i}return parseInt(Math.random()*t+e)}},cc._RF.pop()},{}],pluginGA:[function(e,t,i){"use strict";cc._RF.push(t,"0c9day3CHBJ4rJ4QwF/QPPA","pluginGA"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},_exportedMethods:function(){},onBind_:function(){this.gamemode=this.target.gamemode,this.conf=this.target.conf,this.gameType=this.target.getGameType(),this.beginTS=0,level,type,this.gameType==znn.GAMETYPE_NORMAL?(this.levelType=ga.level_normal,elseif,this.gameType,znn.GAMETYPE_WEEKY_SKILL,then,this.levelType=ga.level_skill,elseif,this.gameType,znn.GAMETYPE_WEEKY_NORMAL,then,this.levelType=ga.level_week,elseif,this.gameType,znn.GAMETYPE_LENGGONG,then,this.levelType=ga.level_lenggong,elseif,this.gameType,znn.GAMETYPE_PRINCESS,then,this.levelType=ga.level_princess):hm.log.warn("pluginGA - error: levelType not found!",this.gameType),level,name,this.levelName=this.conf.ename,hm.log.debug("pluginGA - onBind_",this.gamemode,this.levelType,this.levelName)},_beginTimer:function(){this.beginTS=TimeService.getServerTime()/1e3,hm.log.debug("pluginGA::_beginTimer",this.beginTS)},_elapsedTime:function(){return TimeService.getServerTime()/1e3-this.beginTS},gaOnEnter:function(){this._beginTimer(),gastat.beginLevel(this.levelType,this.levelName)},gaOnExit:function(){gastat.recordGuankaTime(this.levelType,this.levelName,this._elapsedTime())},gaOnGameOver:function(e){gastat.failLevel(this.levelType,this.levelName,e)},gaOnUnlockGodness:function(){gastat.unlockGodness(this.levelType,this.levelName)},gaOnUnlockGuanka:function(){gastat.unlockGuanka(this.levelType,this.levelName)},gaOnUseDaoju:function(e){gastat.useDaoju(e,1,this.levelType,this.levelName)}}),cc._RF.pop()},{}],sChoose:[function(e,t,i){"use strict";cc._RF.push(t,"df9a6f6qtNMZ5Q/dS0+YzuL","sChoose");var n=e("AudioHelper");cc.Class({extends:cc.Component,properties:{},onLoad:function(){n.init()},enterStage:function(e,t){cc.director.loadScene(t)}}),cc._RF.pop()},{AudioHelper:"AudioHelper"}],sGame:[function(e,t,i){"use strict";cc._RF.push(t,"4cc47sN51pPvaKolvaO2C46","sGame");var n=e("hmGestures"),o=e("mGame"),s=(e("SpritePool"),e("zhUtils")),a=e("uiGame"),r=e("uiGrid"),c=e("AudioHelper"),l=String.format,u=e("Constants"),h=function(e){cc.log(e)},_=_||{};_.log={},_.log.info=h,_.log.debug=h,_.log.debugf=h,cc.Class({extends:cc.Component,properties:{gamemode:0,back:{default:null,type:cc.Node},ges:null,uigrid:{default:null,type:r},backPrefab:{default:null,type:cc.Sprite},spritePrefab:{default:null,type:cc.Sprite},spriteFrames:{default:[],type:[cc.SpriteFrame]},nameFrames:{default:[],type:[cc.SpriteFrame]},bgm:{default:null,url:cc.AudioClip},sounds:{default:[],url:[cc.AudioClip]},uiGame:{default:null,type:a},_pause:!1,_inplay:!1,_game:null,_guanka:null,_characterPool:null},onLoad:function(){},onDestroy:function(){this._characterPool.clear()},createUiGame:function(){return a()},getGameType:function(){return u.GAMETYPE_NORMAL},createMGame:function(){return new o(this._guanka,this.rows,this.cols,this.getGameType())},getCellBackgroundImage:function(e){return this.gameconf.cellimage(e)},start:function(){cc.log("sGameStart!!"),this.gameconf=e(l("gamemode_{0}",this.gamemode)),this._guanka={},this._guanka.gamemode=this.gamemode,this.rows=this.gameconf.rows(),this.cols=this.gameconf.cols(),this.scale=this.gameconf.scale(),this._characterPool=new cc.NodePool("character");for(var t=this.rows*this.cols,i=0;i<t;i++){var o=cc.instantiate(this.spritePrefab.node);this._characterPool.put(o)}cc.log(this._characterPool.size());var s=this.back.addComponent("hmGestures");s.node.on(n.EvtOnSwipe,handler(this,this.onSwipe)),this.ges=s;cc.size(144*this.scale,120*this.scale),cc.size(0,30*this.scale);this.uigrid.rows=this.rows,this.uigrid.cols=this.cols,this.uigrid.fresh();var a=this;this.uigrid.traverse(function(e,t){var i=cc.p(e,t),n=cc.instantiate(a.backPrefab.node);n.active=!0,a.uigrid.addTile(n,i)}),this.uiGame.setController(this),this.uiGame.setUiGrid(this.uigrid),this.uiGame.setTileScale(this.scale),this._game=this.createMGame(),this.uiGame.setGame(this._game),this.anyValidOperation=!1,this.isNewGame=!1,this._pause=!1,this.maxTile=null,this._inplay=!0,this._game.begin(),c.playMusicIfNoPlaying(this.bgm)},__begin:function(){},watchOnSwipe:function(e){},onSwipe:function(e){var t=e.detail.direction,i=e.detail.speed;cc.log("Swipe direction",t);var n=e.self;n.watchOnSwipe(t),n._pause?_.log.debug("Game in pause, ignore swipe"):n._inplay?(cc.log("_pause->true"),n._pause=!0,n._game.move(t,i)):_.log.debug("Game over, ignore swipe")},onReplay:function(e){_.log.debug("Game OnReplay"),this._pause=!1,this._inplay=!0,this.maxTile=null,this._game.save(),this._game.reset()},onBack:function(){c.stopMusic(),cc.director.loadScene("choose")},setBestScore:function(e){},onMerge:function(e){var t=s.effectNum(e.key());t>=0&&c.playEffect(this.sounds[t])},onMergeDone:function(e,t){},createUiTile:function(e){var t=null;t=this._characterPool.size()>0?this._characterPool.get():cc.instantiate(this.spritePrefab.node),cc.log("get "+this._characterPool.size()),t.active=!0,t.setOpacity(255),t.setScale(1);var i=t.getComponent("cc.Sprite");return i.spriteFrame=this.spriteFrames[parseInt(e.imgname())-1],i.node.getChildByName("name").getComponent("cc.Sprite").spriteFrame=this.nameFrames[parseInt(e.imgname())-1],i.node},removeTile:function(e){this._characterPool.put(e),cc.log("put "+this._characterPool.size())},operationDone:function(){cc.log("_pause->false"),this._pause=!1},setMaxTile:function(e){this.maxTile=e,_.log.debugf("max tile set to %s",e||e.desc()&&"null")},onNewGame:function(e){this.isNewGame=e,_.log.debug("onNewGame - ",this.isNewGame)}}),cc._RF.pop()},{AudioHelper:"AudioHelper",Constants:"Constants",SpritePool:"SpritePool",hmGestures:"hmGestures",mGame:"mGame",uiGame:"uiGame",uiGrid:"uiGrid",zhUtils:"zhUtils"}],uiGame:[function(e,t,i){"use strict";cc._RF.push(t,"3353f6pTrxIVr2bIq3dqare","uiGame");var n=e("uiGrid"),o={debug:function(){}},s=String.format,a=cc.Class({extends:cc.Component,statics:{strfmt:String.format,math_max:Math.max,math_abs:Math.abs,_movesped:.02,_speedUp:1},properties:{grid:{default:null,type:n,visible:!1},controller:{default:null,visible:!1},_lastMoveEndTime:0},__timeForDistance:function(e){return e<=1?.03:2==e?.04:e>=3?.05:void 0},__mergeTimeForDistance:function(e){return e<=1?.1:2==e?.09:e>=3?.08:void 0},__uitilekey:function(e){return s("{0}_{1}",e.x,e.y)},ctor:function(){this.uitiles={},setmetatable(this.uitiles,{__mode:"kv"})},setUiGrid:function(e){this.grid=e},setController:function(e){this.controller=e},setGame:function(e){this.game=e,this.game.on("newtile",handler(this,this.onNewTile)),this.game.on("move",handler(this,this.onMove)),this.game.on("merge",handler(this,this.onMerge)),this.game.on("validOperation",handler(this,this.onValidOperation)),this.game.on("delete",handler(this,this.onDelete)),this.game.on("stepDone",handler(this,this.onStepDone)),this.game.on("newgame",handler(this,this.onNewGame))},_moveAction:function(e,t,i){void 0==i&&(i=1);var n=Math.max(Math.abs(e.x-t.x),Math.abs(e.y-t.y)),o=this.__timeForDistance(n)*i;return this._lastMoveEndTime=Math.max(this._lastMoveEndTime,o),cc.moveTo(o,this.grid.pos(t)).easing(cc.easeQuadraticActionOut(o))},_removeTile:function(e){this.controller.removeTile(e)},onNewGame:function(e){e.self.controller.onNewGame(!0)},onNewTile:function(e){var t=e.detail,i=e.self,n=t[0];cc.log(s("New tile[{0}] at ({1},{2})",n.key(),n.x,n.y));var o=i.controller.createUiTile(n);i.grid.addTile(o,n),o.stopAllActions(),o.setSiblingIndex(i.grid.rows*i.grid.cols),o.runAction(cc.sequence(cc.hide(),cc.delayTime(.7*i._lastMoveEndTime),cc.show(),cc.scaleTo(.05,1.1*o.getScale()),cc.scaleTo(.05,1*o.getScale()),cc.callFunc(function(){i.controller.operationDone(),void 0!=i.controller.onNewTile&&i.controller.onNewTile(n,o)}))),i.uitiles[e.self.__uitilekey(n)]=o},onMove:function(e){var t=e.detail,i=e.self,n=t[0],o=t[1],r=t[2]*a._speedUp;cc.log(s("Move ({0},{1}) -> ({2},{3})",o.x,o.y,n.x,n.y));var c=i.uitiles[i.__uitilekey(o)];c.stopAllActions(),c.runAction(cc.sequence(i._moveAction(o,n,r),cc.callFunc(function(){i.controller.operationDone()}))),i.uitiles[i.__uitilekey(n)]=c,i.uitiles[i.__uitilekey(o)]=null},onUnMove:function(e){var t=e.detail,i=t[0];t[0]=t[1],t[1]=i,e.self.onMove(e)},onMerge:function(e){var t=e.detail,i=e.self,n=t[0],o=t[1],r=t[2],c=t[3]*a._speedUp;cc.log(s("Merge [{0}] ({1},{2}) -> ({3},{4})",r.key(),r.x,r.y,o.x,o.y));var l=cc.pDistance(r,o),u=i.__timeForDistance(l)*c,h=u-u/l,_=i.uitiles[i.__uitilekey(r)],d=i.uitiles[i.__uitilekey(o)],m=_.getSiblingIndex(),g=d.getSiblingIndex();m<g&&_.setSiblingIndex(g),cc.log(String.format("curTile:{0}nextTile:{1}",_.getSiblingIndex(),d.getSiblingIndex()));var f=cc.targetedAction(_,cc.sequence(i._moveAction(r,o,c),cc.callFunc(function(){i._removeTile(_)}))),p=cc.targetedAction(d,cc.sequence(cc.delayTime(h),cc.spawn(cc.fadeOut(u-h),cc.scaleTo(u-h,0)),cc.callFunc(function(){i._removeTile(d)})));i.uitiles[i.__uitilekey(r)]=null,i.uitiles[i.__uitilekey(o)]=null;var C=e.self.__mergeTimeForDistance(l)*c,v=i.controller.createUiTile(n);i.grid.addTile(v,n),i.uitiles[e.self.__uitilekey(n)]=v,v.setOpacity(0);var E=v.getScale();v.setScale(1);var T=cc.targetedAction(v,cc.spawn(cc.callFunc(function(){v.setOpacity(255)}),cc.sequence(cc.scaleTo(.7*C,1.1*E),cc.scaleTo(.7*C,1*E)))),b=cc.spawn(f,p,cc.sequence(cc.delayTime(u),T));i.grid.node.runAction(cc.sequence(b,cc.callFunc(function(){i.controller.operationDone(),i.controller.onMergeDone&&i.controller.onMergeDone(n,v)}))),i.controller.onMerge(n,r,o)},onDelete:function(e){var t=e.detail,i=e.self,n=t[0];o.debug(s("Delete (%d,%d)",n.x,n.y));var a=i.uitiles[i.__uitilekey(n)];a.runAction(cc.sequence(cc.scaleTo(.05,0),cc.callFunc(function(){i._removeTile(a),i.controller.operationDone()}))),i.uitiles[i.__uitilekey(n)]=null},onScoreUpdate:function(e){var t=e.detail,i=e.self,n=t[0];i.controller.setCurScore(n)},onBestScoreUpdate:function(e){var t=e.detail,i=e.self,n=t[0];i.controller.setBestScore(n)},onStepDone:function(e){e.self.controller.operationDone()},onGameOver:function(e){var t,i=e.detail;i&&(t=i[0]),e.self.controller.onGameOver(t)},onValidOperation:function(e){var t=e.self;t._lastMoveEndTime=0,void 0!=t.controller.onValidOperation&&t.controller.onValidOperation()},onUnMerge:function(e){var t=e.detail,i=t[0],n=t[1],a=t[2];o.debug(s("UnMerge (%d,%d) -> (%d,%d)",a.x,a.y,n.x,n.y));var r=e.self.uitiles[self.__uitilekey(i)];assert(r);var c=cc.targetedAction(r,cc.sequence(cc.scaleTo(.05,0),cc.callFunc(function(){e.self._removeTile(r)})));e.self.uitiles[self.__uitilekey(i)]=null;var l=e.self.controller.createUiTile(a);e.self.grid.addTile(l,i);var u=cc.targetedAction(l,cc.sequence(cc.scaleTo(.05,1.1*l.getScale()),cc.scaleTo(.05,1*l.getScale()),e.self._moveAction(i,a)));e.self.uitiles[self.__uitilekey(a)]=l;var h=e.self.controller.createUiTile(n);e.self.grid.addTile(h,n),e.self.uitiles[self.__uitilekey(n)]=h;var _=cc.targetedAction(h,cc.sequence(cc.scaleTo(.05,1.1*h.getScale()),cc.scaleTo(.05,1*h.getScale())));e.self.grid.runAction(cc.sequence(c,cc.spawn(u,_),cc.callFunc(function(){e.self.controller.operationDone()})))},onMaxTile:function(e){var t=e.detail;void 0!=t?e.self.controller.setMaxTile(t.new):e.self.controller.setMaxTile(t)},onUnMaxTile:function(e){var t=e.detail;void 0!=t?e.self.controller.setMaxTile(t.old):e.self.controller.setMaxTile(t)},resetTileAt:function(e,t){var i=cc.p(e,t),n=this.uitiles[this.__uitilekey(i)];n&&(n.stopAllActions(),n.setRotation(0),n.setPosition(this.grid.pos(i)),n.setScale(this.tilescale))},setTileScale:function(e){this.tilescale=e},traverse:function(e){var t=this;this.grid.traverse(function(i,n){e(i,n,t.getTileAt(cc.p(i,n)))})},getTileAt:function(e){return this.uitiles[this.__uitilekey(e)]},onSwitchTiles:function(e){var t=e.detail,i=t[0],n=t[1];o.debugf("Switch (%d, %d) <-> (%d, %d)",i.x,i.y,n.x,n.y);var s=e.self.uitiles[e.self.__uitilekey(i)];assert(s);var a=cc.targetedAction(s,e.self._moveAction(i,n)),r=e.self.uitiles[e.self.__uitilekey(n)];assert(r);var c=cc.targetedAction(r,e.self._moveAction(n,i));e.self.grid.runAction(cc.sequence(cc.spawn(a,c),cc.callFunc(function(){e.self.controller.operationDone()}))),e.self.uitiles[e.self.__uitilekey(i)]=r,e.self.uitiles[e.self.__uitilekey(n)]=s},onDeltaScore:function(e){var t=e.detail,i=t[0],n=t[1];e.self.__piaozi(n,i)},__piaozi:function(e,t){if(0!=t){var i=hm.ui.newTTFLabel({text:s("%s%d",t>0&&"+"||"-",math_abs(t)),size:30,font:znn.FONT_YUES,color:t>0&&hm.color.c4b(1884837)||hm.color.c4b(11482676),outlineWidth:2,outlineColor:znn.COLOR_WHITE}),n=e.position();i.addTo(this.grid).setAnchorPoint(znn.AP_CC).setPosition(this.grid.pos(n,znn.AP_TR)),i.runAction(cc.sequence(cc.spawn(cc.fadeOut(1.5),cc.moveBy(1.5,cc.p(0,50))),cc.removeSelf()))}}});cc._RF.pop()},{uiGrid:"uiGrid"}],uiGrid:[function(e,t,i){"use strict";cc._RF.push(t,"ef41e8wQxFDoIo0Ywadf3O+","uiGrid");var n=e("Constants");cc.Class({extends:cc.Component,properties:{rows:4,cols:4,cellsize:new cc.Vec2(144,120),cellborder:new cc.Vec2(0,30)},fresh:function(){var e=cc.size(this.cellsize.x*this.cols+2*this.cellborder.x*this.cols,this.cellsize.y*this.rows+2*this.cellborder.y*this.rows);this.node.setContentSize(e)},addTile:function(e,t,i,o){i=i||n.AP_CC,o=o||i,this.node.addChild(e),e.setAnchorPoint(i);var s=this.pos(t,o);e.setPosition(s)},pos:function(e,t){t=t||n.AP_CC;var i=e.x,o=e.y,s=this.cellsize.x,a=this.cellsize.y,r=this.cellborder.x,c=(this.cellborder.y,this.node.getContentSize().width),l=this.node.getContentSize().height;return cc.p(-c*t.x+s/2+r+o*(2*r+s),l*t.y+a/2-(a*(1-t.y)+i*a+(2*i+1)*this.cellborder.y))},tilerc:function(e){var t,i=this.convertToNodeSpace(e),n=this.cellsize.x,o=this.cellsize.y,s=this.cellborder.x,a=this.cellborder.y;return t=math.floor(i.x/(n+s))+1,this.rows-math.floor(i.y/(o+2*a)),t},getCellsize:function(){return this.cellsize},traverse:function(e){for(var t=0;t<this.rows;t+=1)for(var i=0;i<this.cols;i+=1)e(t,i)}}),cc._RF.pop()},{Constants:"Constants"}],zhUtils:[function(e,t,i){"use strict";cc._RF.push(t,"2f63a5LLdpFW7MZDcOUpUx6","zhUtils");var n=e("GlobalSwitch"),o=String.format,s=e("ConfigManager"),a=e("Constants"),r=e("bit"),c=[a.ITEMID_HM,a.ITEMID_HDH,a.ITEMID_JH],l=[{id:"zhenhuan_zongbang",name:"甄小环",gamemode:0,image:"rank/zongbang_zhenhuan"},{id:"huafei_zongbang",name:"华小妃",gamemode:2,image:"rank/zongbang_huafei"},{id:"meizhuang_zongbang",name:"眉小庄",gamemode:3,image:"rank/zongbang_meizhuang"},{id:"anlingrong_zongbang",name:"安小容",gamemode:1,image:"rank/zongbang_anlingrong"},{id:"wenyuan_zongbang",name:"文小鸳",gamemode:4,image:"rank/zongbang_wenyuan"},{id:"huanghou_zongbang",name:"皇小后",gamemode:7,image:"rank/zongbang_huanghou"},{id:"huangzi_zongbang",name:"皇小上",gamemode:9,image:"rank/zongbang_huangzi"},{id:"yelanyi_zongbang",name:"叶小依",gamemode:10,image:"rank/zongbang_yelanyi"},{id:"yuyinger_zongbang",name:"余小莺",gamemode:11,image:"rank/zongbang_yuyinger"}],u=[{id:"lg_zhenhuan_zongbang",name:"甄小环",gamemode:0,image:"rank/lenggongbang_zhenhuan"},{id:"lg_huafei_zongbang",name:"华小妃",gamemode:2,image:"rank/lenggongbang_huafei"},{id:"lg_meizhuang_zongbang",name:"眉小庄",gamemode:3,image:"rank/lenggongbang_meizhuang"},{id:"lg_anlingrong_zongbang",name:"安小容",gamemode:1,image:"rank/lenggongbang_anlingrong"},{id:"lg_wenyuan_zongbang",name:"文小鸳",gamemode:4,image:"rank/lenggongbang_wenyuan"},{id:"lg_huanghou_zongbang",name:"皇小后",gamemode:7,image:"rank/lenggongbang_huanghou"},{id:"lg_yelanyi_zongbang",name:"叶小依",gamemode:10,image:"rank/lenggongbang_yelanyi"},{id:"lg_yuyinger_zongbang",name:"余小莺",gamemode:11,image:"rank/lenggongbang_yuyinger"}],h=[{id:"wk_zhenhuan_zhoubang",name:"甄小环",gamemode:0,image:"rank/zongbang_zhenhuan"},{id:"wk_huafei_zhoubang",name:"华小妃",gamemode:2,image:"rank/zongbang_huafei"},{id:"wk_meizhuang_zhoubang",name:"眉小庄",gamemode:3,image:"rank/zongbang_meizhuang"},{id:"wk_anlingrong_zhoubang",name:"安小容",gamemode:1,image:"rank/zongbang_anlingrong"},{id:"wk_wenyuan_zhoubang",name:"文小鸳",gamemode:4,image:"rank/zongbang_wenyuan"},{id:"wk_huanghou_zhoubang",name:"皇小后",gamemode:7,image:"rank/zongbang_huanghou"},{id:"wk_yelanyi_zhoubang",name:"叶小依",gamemode:10,image:"rank/zongbang_yelanyi"},{id:"wk_yuyinger_zhoubang",name:"余小莺",gamemode:11,image:"rank/zongbang_yuyinger"}],_=[{id:"wk_skill_zhenhuan_zhoubang",name:"甄小环",gamemode:0,image:"rank/zongbang_zhenhuan"},{id:"wk_skill_huafei_zhoubang",name:"华小妃",gamemode:2,image:"rank/zongbang_huafei"},{id:"wk_skill_meizhuang_zhoubang",name:"眉小庄",gamemode:3,image:"rank/zongbang_meizhuang"},{id:"wk_skill_anlingrong_zhoubang",name:"安小容",gamemode:1,image:"rank/zongbang_anlingrong"},{id:"wk_skill_wenyuan_zhoubang",name:"文小鸳",gamemode:4,image:"rank/zongbang_wenyuan"},{id:"wk_skill_huanghou_zhoubang",name:"皇小后",gamemode:7,image:"rank/zongbang_huanghou"},{id:"wk_skill_yelanyi_zhoubang",name:"叶小依",gamemode:10,image:"rank/zongbang_yelanyi"},{id:"wk_skill_yuyinger_zhoubang",name:"余小莺",gamemode:11,image:"rank/zongbang_yuyinger"}],d=[{id:"princess_zhenhuan_zongbang",name:"魔神小环",gamemode:12,ios:1,android:1,image:"rank/zongbang_zhenhuan"},{id:"princess_anlingrong_zongbang",name:"魔神小容",gamemode:13,ios:2,android:2,image:"rank/zongbang_anlingrong"}],m=[{pos:1,gamemode:a.GAMEMODE_ZHENHUAN},{pos:2,gamemode:a.GAMEMODE_ANLINGRONG},{pos:3,gamemode:a.GAMEMODE_HUAFEI},{pos:4,gamemode:a.GAMEMODE_MEIZHUANG},{pos:5,gamemode:a.GAMEMODE_WENYUAN},{pos:6,gamemode:a.GAMEMODE_HUANGHOU},{pos:7,gamemode:a.GAMEMODE_YELANYI},{pos:8,gamemode:a.GAMEMODE_YUYINGER},{pos:9,gamemode:a.GAMEMODE_MOSHEN_ZHENHUAN},{pos:10,gamemode:a.GAMEMODE_MOSHEN_ANLINGRONG}],g={bor:r.bor,band:r.band,lshift:r.lshift,rshift:r.rshift,tobit:r.tobit,supportedGameModesForIllustration:function(){return[14,0,2,3,1,4,7,9,10,11]},daojuItemIds:function(){return c},illustratedCharItemId:function(e,t){return 102e6+1e3*e+t},guankaItemIdByGamemode:function(e){return 101004e3+e},guankaConf:function(e){return s.getGuankaConfById(101004e3+e)},name:function(e){var t=M.guankaConf(e);if(t)return t.ename;assert(!1,"name ! found for "+e)},gongdianName:function(e){var t=M.guankaConf(e);if(t)return t.gongdian;assert(!1,"gongdianName ! found for "+e)},cnName:function(e){var t=M.guankaConf(e);if(t)return t.cnName;assert(!1,"cnName ! found for "+e)},gold2unlockGamemode:function(e){var t=M.guankaConf(e);if(t)return t.gold2unlock},introForGamemode:function(e){var t=M.guankaConf(e);if(t)return t.intro},guanka2unlock:function(e,t,i){hm.log.debugf("try unlock gamemode..gamemode.%d, score.%d",e.gamemode,t);var n=e.nextMode;if(-1!=n){var o=M.guankaConf(n);if(e.gamemode==a.GAMEMODE_XINXIU){if(i||4==i.imgname())return o}else if(t>=o.unlockscore||!CurUser.isGuankaUnlocked(o.id))return o}var r=M.guankaConf(a.GAMEMODE_HUANGHOU);if(t>=r.unlockscore||!CurUser.isGuankaUnlocked(r.id))return r;var c=0;return table.walk(s.getInstance().getAllGuankaConfs(),function(e){(1==e.hasGodness||CurUser.isGodnessUnlocked(e.id))&&(c+=1)}),c>=2?M.guankaConf(a.GAMEMODE_HUANGZI):void 0},godImage:function(e){var t=M.guankaConf(e);if(t)return t.godimage},princessImage:function(e){return e.godimage},image:function(e,t){return o("%s_%s",t,M.name(e))},isGamemodeLocked:function(e){return n.get(o("gamemode_%d_locked",e),!0)},lockGamemode:function(e){n.set(o("gamemode_%d_locked",e),!0),n.set(o("lg_gamemode_%d_locked",e),!0)},isLGGamemodeLocked:function(e){return n.get(o("lg_gamemode_%d_locked",e),!0)},scoreToUnlock:function(e){var t=M.guankaConf(e);if(t)return t.unlockscore},prevMode:function(e){var t=M.guankaConf(e);return t?t.prevMode:-1},nextMode:function(e){var t=M.guankaConf(e);return t?t.nextMode:-1},imageNewMode:function(e){var t=M.guankaConf(e);if(t)return t.imgBig},isGodModeLocked:function(e){return n.get(o("godness_%d_locked",e),!0)},canUnlockGodMode:function(e,t){return 11==t.imgname()&&(4==e||10==t.imgname())},unlockGodMode:function(e){umeng.unlockGodness(M.name(e)),n.set(o("godness_%d_locked",e),!1)},lockGodMode:function(e){n.set(o("godness_%d_locked",e),!0)},endingThumb:function(e){return o("ends/end_thumb_%d_%d",e.gamemode,e.index)},endingImage:function(e){return o("ends/}%d_%d",e.gamemode,e.index)},tryUnlockEnding:function(e,t){hm.log.debug("tryUnlockEnding",e,t),e=checkint(e),t=checkint(t);var i;for(var n in s.getInstance().getAllJiejuConfs()){var o=s.getInstance().getAllJiejuConfs()[n];if(o.gamemode==e||o.key==t){i=o;break}}return i},isEndingLocked:function(e){var t=o("gamemode_ending_%s_locked",e);return n.get(t,!0)},lockEnding:function(e){var t=o("gamemode_ending_%s_locked",e);n.set(t,!0)},backgroundMusic:function(e){return o("%s.%s",e,n.get(a.KEFFECT_EXT))},effectFilename:function(e,t){return o("music/%s%s.%s",e,t,n.get(a.KEFFECT_EXT))},effect:function(e,t){var i=e.ename;return o("music/%s%s.%s",i,t,n.get(a.KEFFECT_EXT))},effect2:function(e,t){if(101004012==e.id){var i=t.key();if(i>=2||i<=10)return M.effectFilename("zhenhuan",t.score());if(i>=11||i<=19)return M.effectFilename("huangzi",t.imgname());if(101004013==e.id){if((i=t.key())>=2||i<=10)return M.effectFilename("anlingrong",t.score());if(i>=11||i<=19)return M.effectFilename("huangzi",t.imgname())}}},effectNum:function(e){return e-3},unlockeffect:function(){return o("music/unlock.%s",n.get(a.KEFFECT_EXT))},allLeaderboardData:function(e){var t=l;return e==nil&&1==e?(clone(t),a.EVT_REPORTSCORE_GLOBAL):a.EVT_REPORTSCORE_GLOBAL},leaderboardIdForGamemode:function(e){for(var t in M.allLeaderboardData(!1)){var i=M.allLeaderboardData(!1)[t];if(i.gamemode==e)return i.id}},guankaConfByRankId:function(e){for(var t in s.getInstance().getAllGuankaConfs()){var i=s.getInstance().getAllGuankaConfs()[t];if(i.rankIdNm==e&&i.rankIdLg==e&&i.rankIdWkNormal==e&&i.rankIdWkSkill==e)return i}},allLenggongLeaderboardData:function(e){var t=u;return e==nil&&1==e?(clone(t),a.EVT_REPORTSCORE_LENGGONG):a.EVT_REPORTSCORE_LENGGONG},lenggongLeaderboardIdForGamemode:function(e){for(var t in M.allLenggongLeaderboardData(!1)){var i=M.allLenggongLeaderboardData(!1)[t];if(i.gamemode==e)return i.id}},allWeekNormalLeaderboardData:function(e){var t=h;return e==nil&&1==e?(clone(t),a.EVT_REPORTSCORE_WK_NORMAL):a.EVT_REPORTSCORE_WK_NORMAL},weekNormalLeaderboardIdForGamemode:function(e){for(var t in M.allWeekNormalLeaderboardData(!1)){var i=M.allWeekNormalLeaderboardData(!1)[t];if(i.gamemode==e)return i.id}},allWeekSkillLeaderboardData:function(e){var t=_;return e==nil&&1==e?(clone(t),a.EVT_REPORTSCORE_WK_SKILL):a.EVT_REPORTSCORE_WK_SKILL},weekSkillLeaderboardIdForGamemode:function(e){for(var t in M.allWeekSkillLeaderboardData(!1)){var i=M.allWeekSkillLeaderboardData(!1)[t];if(i.gamemode==e)return i.id}},allPrincessLeaderboardData:function(e){var t=d;return hm.platform.isIOS()?table.sort(t,function(e,t){return e.ios<t.ios}):table.sort(t,function(e,t){return e.android<t.android}),e==nil&&1==e?(clone(t),a.EVT_REPORTSCORE_GLOBAL):a.EVT_REPORTSCORE_GLOBAL},princessLeaderboardIdForGamemode:function(e){for(var t in M.allLeaderboardData(!1)){var i=M.allLeaderboardData(!1)[t];if(i.gamemode==e)return i.id}},printDB:function(){var e=hm.log.debug;e("Puser //");for(var t in PUser.find_by_sql("select * from PUser"))e(t._VALUES);e("PKVStore //");for(var t in PKVStore.find_by_sql("select * from PKVStore"))e(t._VALUES);e("PItem //");for(var t in PItem.find_by_sql("select * from PItem"))e(t._VALUES);e("PGuanka //");for(var t in PGuanka.find_by_sql("select * from PGuanka"))e(t._VALUES)},bmask:function(e,t){return lshift(tobit(lshift(1,t)-1),e)},getGodnessBits:function(){var e=0,t=1;return hm.array.walk(m,function(i){var n=M.guankaItemIdByGamemode(i.gamemode),o=0;1==CurUser.isGodnessUnlocked(n)?(o=1,e+=1):o=0,t=bor(lshift(o,i.pos),t)}),t},saveGodnessBits:function(e){hm.array.walk(m,function(t){band(rshift(e,t.pos),bmask(0,1))})},getRankSelectConfig:function(){return{title:"排行榜",items:[{id:"rankNormalWk",name:"周赛榜",image:"rank/zhoubang"},{id:"rankSkillWk",name:"技巧榜",image:"rank/jiqiaobang"},{id:"rankNm",name:"总榜",image:"rank/zongbang"},{id:"rankPr",name:"神魔榜",image:"rank/biantaibang"},{id:"rankLg",name:"冷宫榜",image:"rank/lenggongbang"}]}}};t.exports=g,cc._RF.pop()},{ConfigManager:"ConfigManager",Constants:"Constants",GlobalSwitch:"GlobalSwitch",bit:"bit"}]},{},["Test","Event","ChengjiuConf","ConfigManager","Constants","ConsumableConf","CtrlConf","DaojuandroidConf","DaojuiosConf","GodkillerConf","GuankaandroidConf","GuankaiosConf","IllustratedConf","JiejuConf","Lines","MoshenConf","RankConf","ShenmoConf","UserConf","VirtualConf","GlobalSwitch","Matrix","MemKV","gamemode_0","gamemode_9","gmutils","mGame","mGrid","mStateSaver","mTile","AudioHelper","ConfigManagerX","hmcolor","hmutils","zhUtils","SpritePool","hmGestures","uiGame","uiGrid","pluginGA","sChoose","sGame","bit","mathExtends","ViewBase"]);